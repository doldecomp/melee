.include "macros.inc"

.section .text  # 0x80005940 - 0x803B7240

.global TRK_flush_cache
TRK_flush_cache:
/* 80328F50 00325B30  3C A0 FF FF */	lis r5, 0xFFFFFFF1@h
/* 80328F54 00325B34  60 A5 FF F1 */	ori r5, r5, 0xFFFFFFF1@l
/* 80328F58 00325B38  7C A5 18 38 */	and r5, r5, r3
/* 80328F5C 00325B3C  7C 65 18 50 */	subf r3, r5, r3
/* 80328F60 00325B40  7C 84 1A 14 */	add r4, r4, r3
lbl_80328F64:
/* 80328F64 00325B44  7C 00 28 6C */	dcbst 0, r5
/* 80328F68 00325B48  7C 00 28 AC */	dcbf 0, r5
/* 80328F6C 00325B4C  7C 00 04 AC */	sync 0
/* 80328F70 00325B50  7C 00 2F AC */	icbi 0, r5
/* 80328F74 00325B54  30 A5 00 08 */	addic r5, r5, 8
/* 80328F78 00325B58  34 84 FF F8 */	addic. r4, r4, -8
/* 80328F7C 00325B5C  40 80 FF E8 */	bge lbl_80328F64
/* 80328F80 00325B60  4C 00 01 2C */	isync
/* 80328F84 00325B64  4E 80 00 20 */	blr
