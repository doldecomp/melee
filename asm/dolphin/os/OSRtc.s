.include "macros.inc"

.section .text  # 0x80348A90 - 0x803B7240 

.global OSGetWirelessID
OSGetWirelessID:
/* 8034938C 00345F6C  7C 08 02 A6 */	mflr r0
/* 80349390 00345F70  3C 80 80 4A */	lis r4, lbl_804A7D60@ha
/* 80349394 00345F74  90 01 00 04 */	stw r0, 4(r1)
/* 80349398 00345F78  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8034939C 00345F7C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803493A0 00345F80  3B E4 7D 60 */	addi r31, r4, lbl_804A7D60@l
/* 803493A4 00345F84  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803493A8 00345F88  3B C3 00 00 */	addi r30, r3, 0
/* 803493AC 00345F8C  4B FF DF B9 */	bl OSDisableInterrupts
/* 803493B0 00345F90  80 1F 00 48 */	lwz r0, 0x48(r31)
/* 803493B4 00345F94  38 9F 00 48 */	addi r4, r31, 0x48
/* 803493B8 00345F98  2C 00 00 00 */	cmpwi r0, 0
/* 803493BC 00345F9C  41 82 00 10 */	beq lbl_803493CC
/* 803493C0 00345FA0  4B FF DF CD */	bl OSRestoreInterrupts
/* 803493C4 00345FA4  38 60 00 00 */	li r3, 0
/* 803493C8 00345FA8  48 00 00 14 */	b lbl_803493DC
lbl_803493CC:
/* 803493CC 00345FAC  90 7F 00 44 */	stw r3, 0x44(r31)
/* 803493D0 00345FB0  38 00 00 01 */	li r0, 1
/* 803493D4 00345FB4  38 7F 00 14 */	addi r3, r31, 0x14
/* 803493D8 00345FB8  90 04 00 00 */	stw r0, 0(r4)
lbl_803493DC:
/* 803493DC 00345FBC  57 C0 08 3C */	slwi r0, r30, 1
/* 803493E0 00345FC0  7C 63 02 14 */	add r3, r3, r0
/* 803493E4 00345FC4  A3 E3 00 1C */	lhz r31, 0x1c(r3)
/* 803493E8 00345FC8  38 60 00 00 */	li r3, 0
/* 803493EC 00345FCC  38 80 00 14 */	li r4, 0x14
/* 803493F0 00345FD0  4B FF FA 05 */	bl UnlockSram
/* 803493F4 00345FD4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803493F8 00345FD8  7F E3 FB 78 */	mr r3, r31
/* 803493FC 00345FDC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80349400 00345FE0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80349404 00345FE4  7C 08 03 A6 */	mtlr r0
/* 80349408 00345FE8  38 21 00 20 */	addi r1, r1, 0x20
/* 8034940C 00345FEC  4E 80 00 20 */	blr 

.global OSSetWirelessID
OSSetWirelessID:
/* 80349410 00345FF0  7C 08 02 A6 */	mflr r0
/* 80349414 00345FF4  3C A0 80 4A */	lis r5, lbl_804A7D60@ha
/* 80349418 00345FF8  90 01 00 04 */	stw r0, 4(r1)
/* 8034941C 00345FFC  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80349420 00346000  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80349424 00346004  3B E5 7D 60 */	addi r31, r5, lbl_804A7D60@l
/* 80349428 00346008  93 C1 00 20 */	stw r30, 0x20(r1)
/* 8034942C 0034600C  3B C4 00 00 */	addi r30, r4, 0
/* 80349430 00346010  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80349434 00346014  3B A3 00 00 */	addi r29, r3, 0
/* 80349438 00346018  4B FF DF 2D */	bl OSDisableInterrupts
/* 8034943C 0034601C  80 1F 00 48 */	lwz r0, 0x48(r31)
/* 80349440 00346020  38 9F 00 48 */	addi r4, r31, 0x48
/* 80349444 00346024  2C 00 00 00 */	cmpwi r0, 0
/* 80349448 00346028  41 82 00 10 */	beq lbl_80349458
/* 8034944C 0034602C  4B FF DF 41 */	bl OSRestoreInterrupts
/* 80349450 00346030  38 60 00 00 */	li r3, 0
/* 80349454 00346034  48 00 00 14 */	b lbl_80349468
lbl_80349458:
/* 80349458 00346038  90 7F 00 44 */	stw r3, 0x44(r31)
/* 8034945C 0034603C  38 00 00 01 */	li r0, 1
/* 80349460 00346040  38 7F 00 14 */	addi r3, r31, 0x14
/* 80349464 00346044  90 04 00 00 */	stw r0, 0(r4)
lbl_80349468:
/* 80349468 00346048  57 A0 08 3C */	slwi r0, r29, 1
/* 8034946C 0034604C  7C 83 02 14 */	add r4, r3, r0
/* 80349470 00346050  A4 64 00 1C */	lhzu r3, 0x1c(r4)
/* 80349474 00346054  57 C0 04 3E */	clrlwi r0, r30, 0x10
/* 80349478 00346058  7C 03 00 40 */	cmplw r3, r0
/* 8034947C 0034605C  41 82 00 18 */	beq lbl_80349494
/* 80349480 00346060  B3 C4 00 00 */	sth r30, 0(r4)
/* 80349484 00346064  38 60 00 01 */	li r3, 1
/* 80349488 00346068  38 80 00 14 */	li r4, 0x14
/* 8034948C 0034606C  4B FF F9 69 */	bl UnlockSram
/* 80349490 00346070  48 00 00 10 */	b lbl_803494A0
lbl_80349494:
/* 80349494 00346074  38 60 00 00 */	li r3, 0
/* 80349498 00346078  38 80 00 14 */	li r4, 0x14
/* 8034949C 0034607C  4B FF F9 59 */	bl UnlockSram
lbl_803494A0:
/* 803494A0 00346080  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 803494A4 00346084  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 803494A8 00346088  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 803494AC 0034608C  7C 08 03 A6 */	mtlr r0
/* 803494B0 00346090  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 803494B4 00346094  38 21 00 28 */	addi r1, r1, 0x28
/* 803494B8 00346098  4E 80 00 20 */	blr 


.section .bss, "wa"
    .balign 8
.global lbl_804A7D60
lbl_804A7D60:
	.skip 0x58
