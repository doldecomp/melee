.include "macros.inc"

.section .text  # 0x80348A90 - 0x803B7240 

.global OSSetWirelessID
OSSetWirelessID:
/* 80349410 00345FF0  7C 08 02 A6 */	mflr r0
/* 80349414 00345FF4  3C A0 80 4A */	lis r5, lbl_804A7D60@ha
/* 80349418 00345FF8  90 01 00 04 */	stw r0, 4(r1)
/* 8034941C 00345FFC  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80349420 00346000  93 E1 00 24 */	stw r31, 0x24(r1)
/* 80349424 00346004  3B E5 7D 60 */	addi r31, r5, lbl_804A7D60@l
/* 80349428 00346008  93 C1 00 20 */	stw r30, 0x20(r1)
/* 8034942C 0034600C  3B C4 00 00 */	addi r30, r4, 0
/* 80349430 00346010  93 A1 00 1C */	stw r29, 0x1c(r1)
/* 80349434 00346014  3B A3 00 00 */	addi r29, r3, 0
/* 80349438 00346018  4B FF DF 2D */	bl OSDisableInterrupts
/* 8034943C 0034601C  80 1F 00 48 */	lwz r0, 0x48(r31)
/* 80349440 00346020  38 9F 00 48 */	addi r4, r31, 0x48
/* 80349444 00346024  2C 00 00 00 */	cmpwi r0, 0
/* 80349448 00346028  41 82 00 10 */	beq lbl_80349458
/* 8034944C 0034602C  4B FF DF 41 */	bl OSRestoreInterrupts
/* 80349450 00346030  38 60 00 00 */	li r3, 0
/* 80349454 00346034  48 00 00 14 */	b lbl_80349468
lbl_80349458:
/* 80349458 00346038  90 7F 00 44 */	stw r3, 0x44(r31)
/* 8034945C 0034603C  38 00 00 01 */	li r0, 1
/* 80349460 00346040  38 7F 00 14 */	addi r3, r31, 0x14
/* 80349464 00346044  90 04 00 00 */	stw r0, 0(r4)
lbl_80349468:
/* 80349468 00346048  57 A0 08 3C */	slwi r0, r29, 1
/* 8034946C 0034604C  7C 83 02 14 */	add r4, r3, r0
/* 80349470 00346050  A4 64 00 1C */	lhzu r3, 0x1c(r4)
/* 80349474 00346054  57 C0 04 3E */	clrlwi r0, r30, 0x10
/* 80349478 00346058  7C 03 00 40 */	cmplw r3, r0
/* 8034947C 0034605C  41 82 00 18 */	beq lbl_80349494
/* 80349480 00346060  B3 C4 00 00 */	sth r30, 0(r4)
/* 80349484 00346064  38 60 00 01 */	li r3, 1
/* 80349488 00346068  38 80 00 14 */	li r4, 0x14
/* 8034948C 0034606C  4B FF F9 69 */	bl UnlockSram
/* 80349490 00346070  48 00 00 10 */	b lbl_803494A0
lbl_80349494:
/* 80349494 00346074  38 60 00 00 */	li r3, 0
/* 80349498 00346078  38 80 00 14 */	li r4, 0x14
/* 8034949C 0034607C  4B FF F9 59 */	bl UnlockSram
lbl_803494A0:
/* 803494A0 00346080  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 803494A4 00346084  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 803494A8 00346088  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 803494AC 0034608C  7C 08 03 A6 */	mtlr r0
/* 803494B0 00346090  83 A1 00 1C */	lwz r29, 0x1c(r1)
/* 803494B4 00346094  38 21 00 28 */	addi r1, r1, 0x28
/* 803494B8 00346098  4E 80 00 20 */	blr 


.section .bss, "wa"
    .balign 8
.global lbl_804A7D60
lbl_804A7D60:
	.skip 0x58
