.include "macros.inc"

.section .text  # 0x80342E94 - 0x803B7240 

.global SIGetType
SIGetType:
/* 8034A880 00347460  7C 08 02 A6 */	mflr r0
/* 8034A884 00347464  90 01 00 04 */	stw r0, 4(r1)
/* 8034A888 00347468  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 8034A88C 0034746C  BF 61 00 14 */	stmw r27, 0x14(r1)
/* 8034A890 00347470  7C 7B 1B 78 */	mr r27, r3
/* 8034A894 00347474  4B FF CA D1 */	bl OSDisableInterrupts
/* 8034A898 00347478  3C 80 80 40 */	lis r4, lbl_8040236C@ha
/* 8034A89C 0034747C  57 65 10 3A */	slwi r5, r27, 2
/* 8034A8A0 00347480  38 04 23 6C */	addi r0, r4, lbl_8040236C@l
/* 8034A8A4 00347484  7F C0 2A 14 */	add r30, r0, r5
/* 8034A8A8 00347488  83 9E 00 00 */	lwz r28, 0(r30)
/* 8034A8AC 0034748C  7C 7D 1B 78 */	mr r29, r3
/* 8034A8B0 00347490  48 00 1B 61 */	bl __OSGetSystemTime
/* 8034A8B4 00347494  3C A0 80 4A */	lis r5, lbl_804A7ED8@ha
/* 8034A8B8 00347498  57 66 18 38 */	slwi r6, r27, 3
/* 8034A8BC 0034749C  38 05 7E D8 */	addi r0, r5, lbl_804A7ED8@l
/* 8034A8C0 003474A0  7F E0 32 14 */	add r31, r0, r6
/* 8034A8C4 003474A4  80 DF 00 04 */	lwz r6, 4(r31)
/* 8034A8C8 003474A8  3C A0 80 40 */	lis r5, lbl_80402358@ha
/* 8034A8CC 003474AC  38 A5 23 58 */	addi r5, r5, lbl_80402358@l
/* 8034A8D0 003474B0  80 1F 00 00 */	lwz r0, 0(r31)
/* 8034A8D4 003474B4  7C 86 20 10 */	subfc r4, r6, r4
/* 8034A8D8 003474B8  7C 00 19 10 */	subfe r0, r0, r3
/* 8034A8DC 003474BC  80 C5 00 04 */	lwz r6, 4(r5)
/* 8034A8E0 003474C0  38 A0 00 80 */	li r5, 0x80
/* 8034A8E4 003474C4  7C A3 DE 30 */	sraw r3, r5, r27
/* 8034A8E8 003474C8  7C C3 18 39 */	and. r3, r6, r3
/* 8034A8EC 003474CC  41 82 00 34 */	beq lbl_8034A920
/* 8034A8F0 003474D0  28 1C 00 08 */	cmplwi r28, 8
/* 8034A8F4 003474D4  41 82 00 20 */	beq lbl_8034A914
/* 8034A8F8 003474D8  48 00 1B 19 */	bl __OSGetSystemTime
/* 8034A8FC 003474DC  90 9F 00 04 */	stw r4, 4(r31)
/* 8034A900 003474E0  90 7F 00 00 */	stw r3, 0(r31)
/* 8034A904 003474E4  7F A3 EB 78 */	mr r3, r29
/* 8034A908 003474E8  4B FF CA 85 */	bl OSRestoreInterrupts
/* 8034A90C 003474EC  7F 83 E3 78 */	mr r3, r28
/* 8034A910 003474F0  48 00 01 20 */	b lbl_8034AA30
lbl_8034A914:
/* 8034A914 003474F4  90 BE 00 00 */	stw r5, 0(r30)
/* 8034A918 003474F8  3B 80 00 80 */	li r28, 0x80
/* 8034A91C 003474FC  48 00 00 B4 */	b lbl_8034A9D0
lbl_8034A920:
/* 8034A920 00347500  3C 60 80 00 */	lis r3, 0x800000F8@ha
/* 8034A924 00347504  80 C3 00 F8 */	lwz r6, 0x800000F8@l(r3)
/* 8034A928 00347508  3C A0 10 62 */	lis r5, 0x10624DD3@ha
/* 8034A92C 0034750C  38 A5 4D D3 */	addi r5, r5, 0x10624DD3@l
/* 8034A930 00347510  54 C6 F0 BE */	srwi r6, r6, 2
/* 8034A934 00347514  7C A5 30 16 */	mulhwu r5, r5, r6
/* 8034A938 00347518  54 A5 D1 BE */	srwi r5, r5, 6
/* 8034A93C 0034751C  1C E5 00 32 */	mulli r7, r5, 0x32
/* 8034A940 00347520  38 60 00 00 */	li r3, 0
/* 8034A944 00347524  6C 66 80 00 */	xoris r6, r3, 0x8000
/* 8034A948 00347528  6C 05 80 00 */	xoris r5, r0, 0x8000
/* 8034A94C 0034752C  7C 64 38 10 */	subfc r3, r4, r7
/* 8034A950 00347530  7C A5 31 10 */	subfe r5, r5, r6
/* 8034A954 00347534  7C A6 31 10 */	subfe r5, r6, r6
/* 8034A958 00347538  7C A5 00 D1 */	neg. r5, r5
/* 8034A95C 0034753C  40 82 00 1C */	bne lbl_8034A978
/* 8034A960 00347540  28 1C 00 08 */	cmplwi r28, 8
/* 8034A964 00347544  41 82 00 14 */	beq lbl_8034A978
/* 8034A968 00347548  7F A3 EB 78 */	mr r3, r29
/* 8034A96C 0034754C  4B FF CA 21 */	bl OSRestoreInterrupts
/* 8034A970 00347550  7F 83 E3 78 */	mr r3, r28
/* 8034A974 00347554  48 00 00 BC */	b lbl_8034AA30
lbl_8034A978:
/* 8034A978 00347558  3C 60 80 00 */	lis r3, 0x800000F8@ha
/* 8034A97C 0034755C  80 C3 00 F8 */	lwz r6, 0x800000F8@l(r3)
/* 8034A980 00347560  3C A0 10 62 */	lis r5, 0x10624DD3@ha
/* 8034A984 00347564  38 A5 4D D3 */	addi r5, r5, 0x10624DD3@l
/* 8034A988 00347568  54 C6 F0 BE */	srwi r6, r6, 2
/* 8034A98C 0034756C  7C A5 30 16 */	mulhwu r5, r5, r6
/* 8034A990 00347570  54 A5 D1 BE */	srwi r5, r5, 6
/* 8034A994 00347574  1C C5 00 4B */	mulli r6, r5, 0x4b
/* 8034A998 00347578  38 60 00 00 */	li r3, 0
/* 8034A99C 0034757C  6C 65 80 00 */	xoris r5, r3, 0x8000
/* 8034A9A0 00347580  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8034A9A4 00347584  7C 04 30 10 */	subfc r0, r4, r6
/* 8034A9A8 00347588  7C 63 29 10 */	subfe r3, r3, r5
/* 8034A9AC 0034758C  7C 65 29 10 */	subfe r3, r5, r5
/* 8034A9B0 00347590  7C 63 00 D1 */	neg. r3, r3
/* 8034A9B4 00347594  40 82 00 10 */	bne lbl_8034A9C4
/* 8034A9B8 00347598  38 00 00 80 */	li r0, 0x80
/* 8034A9BC 0034759C  90 1E 00 00 */	stw r0, 0(r30)
/* 8034A9C0 003475A0  48 00 00 10 */	b lbl_8034A9D0
lbl_8034A9C4:
/* 8034A9C4 003475A4  38 00 00 80 */	li r0, 0x80
/* 8034A9C8 003475A8  90 1E 00 00 */	stw r0, 0(r30)
/* 8034A9CC 003475AC  3B 80 00 80 */	li r28, 0x80
lbl_8034A9D0:
/* 8034A9D0 003475B0  48 00 1A 41 */	bl __OSGetSystemTime
/* 8034A9D4 003475B4  90 9F 00 04 */	stw r4, 4(r31)
/* 8034A9D8 003475B8  3C 80 43 1C */	lis r4, 0x431BDE83@ha
/* 8034A9DC 003475BC  3C A0 80 35 */	lis r5, GetTypeCallback@ha
/* 8034A9E0 003475C0  90 7F 00 00 */	stw r3, 0(r31)
/* 8034A9E4 003475C4  3C 60 80 00 */	lis r3, 0x800000F8@ha
/* 8034A9E8 003475C8  39 05 A5 E8 */	addi r8, r5, GetTypeCallback@l
/* 8034A9EC 003475CC  80 03 00 F8 */	lwz r0, 0x800000F8@l(r3)
/* 8034A9F0 003475D0  38 84 DE 83 */	addi r4, r4, 0x431BDE83@l
/* 8034A9F4 003475D4  38 7B 00 00 */	addi r3, r27, 0
/* 8034A9F8 003475D8  54 00 F0 BE */	srwi r0, r0, 2
/* 8034A9FC 003475DC  7C 04 00 16 */	mulhwu r0, r4, r0
/* 8034AA00 003475E0  54 00 8B FE */	srwi r0, r0, 0xf
/* 8034AA04 003475E4  1C 00 00 41 */	mulli r0, r0, 0x41
/* 8034AA08 003475E8  54 0A E8 FE */	srwi r10, r0, 3
/* 8034AA0C 003475EC  38 DE 00 00 */	addi r6, r30, 0
/* 8034AA10 003475F0  38 8D BD 2C */	addi r4, r13, lbl_804D73CC@sda21
/* 8034AA14 003475F4  38 A0 00 01 */	li r5, 1
/* 8034AA18 003475F8  38 E0 00 03 */	li r7, 3
/* 8034AA1C 003475FC  39 20 00 00 */	li r9, 0
/* 8034AA20 00347600  4B FF FA 5D */	bl SITransfer
/* 8034AA24 00347604  7F A3 EB 78 */	mr r3, r29
/* 8034AA28 00347608  4B FF C9 65 */	bl OSRestoreInterrupts
/* 8034AA2C 0034760C  7F 83 E3 78 */	mr r3, r28
lbl_8034AA30:
/* 8034AA30 00347610  BB 61 00 14 */	lmw r27, 0x14(r1)
/* 8034AA34 00347614  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 8034AA38 00347618  38 21 00 28 */	addi r1, r1, 0x28
/* 8034AA3C 0034761C  7C 08 03 A6 */	mtlr r0
/* 8034AA40 00347620  4E 80 00 20 */	blr 

.global SIGetTypeAsync
SIGetTypeAsync:
/* 8034AA44 00347624  7C 08 02 A6 */	mflr r0
/* 8034AA48 00347628  90 01 00 04 */	stw r0, 4(r1)
/* 8034AA4C 0034762C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8034AA50 00347630  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8034AA54 00347634  3B E4 00 00 */	addi r31, r4, 0
/* 8034AA58 00347638  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8034AA5C 0034763C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8034AA60 00347640  93 81 00 10 */	stw r28, 0x10(r1)
/* 8034AA64 00347644  3B 83 00 00 */	addi r28, r3, 0
/* 8034AA68 00347648  4B FF C8 FD */	bl OSDisableInterrupts
/* 8034AA6C 0034764C  3B C3 00 00 */	addi r30, r3, 0
/* 8034AA70 00347650  38 7C 00 00 */	addi r3, r28, 0
/* 8034AA74 00347654  4B FF FE 0D */	bl SIGetType
/* 8034AA78 00347658  3C 80 80 40 */	lis r4, lbl_8040236C@ha
/* 8034AA7C 0034765C  57 85 10 3A */	slwi r5, r28, 2
/* 8034AA80 00347660  38 04 23 6C */	addi r0, r4, lbl_8040236C@l
/* 8034AA84 00347664  7C 80 2A 14 */	add r4, r0, r5
/* 8034AA88 00347668  80 04 00 00 */	lwz r0, 0(r4)
/* 8034AA8C 0034766C  3B A3 00 00 */	addi r29, r3, 0
/* 8034AA90 00347670  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 8034AA94 00347674  41 82 00 AC */	beq lbl_8034AB40
/* 8034AA98 00347678  3C 60 80 4A */	lis r3, lbl_804A7F18@ha
/* 8034AA9C 0034767C  57 84 20 36 */	slwi r4, r28, 4
/* 8034AAA0 00347680  38 03 7F 18 */	addi r0, r3, lbl_804A7F18@l
/* 8034AAA4 00347684  7C 80 22 14 */	add r4, r0, r4
/* 8034AAA8 00347688  80 04 00 00 */	lwz r0, 0(r4)
/* 8034AAAC 0034768C  38 A0 00 00 */	li r5, 0
/* 8034AAB0 00347690  7C 00 F8 40 */	cmplw r0, r31
/* 8034AAB4 00347694  41 82 00 A0 */	beq lbl_8034AB54
/* 8034AAB8 00347698  28 00 00 00 */	cmplwi r0, 0
/* 8034AABC 0034769C  40 82 00 10 */	bne lbl_8034AACC
/* 8034AAC0 003476A0  54 A0 10 3A */	slwi r0, r5, 2
/* 8034AAC4 003476A4  7F E4 01 2E */	stwx r31, r4, r0
/* 8034AAC8 003476A8  48 00 00 8C */	b lbl_8034AB54
lbl_8034AACC:
/* 8034AACC 003476AC  38 64 00 04 */	addi r3, r4, 4
/* 8034AAD0 003476B0  80 04 00 04 */	lwz r0, 4(r4)
/* 8034AAD4 003476B4  38 A0 00 01 */	li r5, 1
/* 8034AAD8 003476B8  7C 00 F8 40 */	cmplw r0, r31
/* 8034AADC 003476BC  41 82 00 78 */	beq lbl_8034AB54
/* 8034AAE0 003476C0  28 00 00 00 */	cmplwi r0, 0
/* 8034AAE4 003476C4  40 82 00 10 */	bne lbl_8034AAF4
/* 8034AAE8 003476C8  54 A0 10 3A */	slwi r0, r5, 2
/* 8034AAEC 003476CC  7F E4 01 2E */	stwx r31, r4, r0
/* 8034AAF0 003476D0  48 00 00 64 */	b lbl_8034AB54
lbl_8034AAF4:
/* 8034AAF4 003476D4  84 03 00 04 */	lwzu r0, 4(r3)
/* 8034AAF8 003476D8  38 A0 00 02 */	li r5, 2
/* 8034AAFC 003476DC  7C 00 F8 40 */	cmplw r0, r31
/* 8034AB00 003476E0  41 82 00 54 */	beq lbl_8034AB54
/* 8034AB04 003476E4  28 00 00 00 */	cmplwi r0, 0
/* 8034AB08 003476E8  40 82 00 10 */	bne lbl_8034AB18
/* 8034AB0C 003476EC  54 A0 10 3A */	slwi r0, r5, 2
/* 8034AB10 003476F0  7F E4 01 2E */	stwx r31, r4, r0
/* 8034AB14 003476F4  48 00 00 40 */	b lbl_8034AB54
lbl_8034AB18:
/* 8034AB18 003476F8  80 03 00 04 */	lwz r0, 4(r3)
/* 8034AB1C 003476FC  38 A0 00 03 */	li r5, 3
/* 8034AB20 00347700  7C 00 F8 40 */	cmplw r0, r31
/* 8034AB24 00347704  41 82 00 30 */	beq lbl_8034AB54
/* 8034AB28 00347708  28 00 00 00 */	cmplwi r0, 0
/* 8034AB2C 0034770C  40 82 00 28 */	bne lbl_8034AB54
/* 8034AB30 00347710  54 A0 10 3A */	slwi r0, r5, 2
/* 8034AB34 00347714  7F E4 01 2E */	stwx r31, r4, r0
/* 8034AB38 00347718  48 00 00 1C */	b lbl_8034AB54
/* 8034AB3C 0034771C  48 00 00 18 */	b lbl_8034AB54
lbl_8034AB40:
/* 8034AB40 00347720  39 9F 00 00 */	addi r12, r31, 0
/* 8034AB44 00347724  7D 88 03 A6 */	mtlr r12
/* 8034AB48 00347728  38 7C 00 00 */	addi r3, r28, 0
/* 8034AB4C 0034772C  38 9D 00 00 */	addi r4, r29, 0
/* 8034AB50 00347730  4E 80 00 21 */	blrl 
lbl_8034AB54:
/* 8034AB54 00347734  7F C3 F3 78 */	mr r3, r30
/* 8034AB58 00347738  4B FF C8 35 */	bl OSRestoreInterrupts
/* 8034AB5C 0034773C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8034AB60 00347740  7F A3 EB 78 */	mr r3, r29
/* 8034AB64 00347744  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8034AB68 00347748  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8034AB6C 0034774C  7C 08 03 A6 */	mtlr r0
/* 8034AB70 00347750  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8034AB74 00347754  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8034AB78 00347758  38 21 00 20 */	addi r1, r1, 0x20
/* 8034AB7C 0034775C  4E 80 00 20 */	blr 

.section .data
    .balign 8
.global lbl_80402358
lbl_80402358:
    .4byte 0xFFFFFFFF
    .4byte NULL
    .4byte NULL
    .4byte NULL
    .4byte NULL
.global lbl_8040236C
lbl_8040236C:
    .4byte 0x00000008
    .4byte 0x00000008
    .4byte 0x00000008
    .4byte 0x00000008
    .4byte 0x4E6F2072
    .4byte 0x6573706F
    .4byte 0x6E736500
    .4byte 0x4E363420
    .4byte 0x636F6E74
    .4byte 0x726F6C6C
    .4byte 0x65720000
    .4byte 0x4E363420
    .4byte 0x6D696372
    .4byte 0x6F70686F
    .4byte 0x6E650000
    .4byte 0x4E363420
    .4byte 0x6B657962
    .4byte 0x6F617264
    .4byte NULL
    .4byte 0x4E363420
    .4byte 0x6D6F7573
    .4byte 0x65000000
    .4byte 0x47616D65
    .4byte 0x426F7920
    .4byte 0x41647661
    .4byte 0x6E636500
    .4byte 0x5374616E
    .4byte 0x64617264
    .4byte 0x20636F6E
    .4byte 0x74726F6C
    .4byte 0x6C657200
    .4byte 0x57697265
    .4byte 0x6C657373
    .4byte 0x20726563
    .4byte 0x65697665
    .4byte 0x72000000
    .4byte 0x57617665
    .4byte 0x42697264
    .4byte 0x20636F6E
    .4byte 0x74726F6C
    .4byte 0x6C657200
    .4byte 0x4B657962
    .4byte 0x6F617264
    .4byte NULL
    .4byte NULL

.section .bss, "wa"
    .balign 8
.global Packet
Packet:
	.skip 0x80
.global Alarm
Alarm:
	.skip 0xA0
.global lbl_804A7ED8
lbl_804A7ED8:
	.skip 0x20
.global lbl_804A7EF8
lbl_804A7EF8:
	.skip 0x20
.global lbl_804A7F18
lbl_804A7F18:
	.skip 0x40
.global lbl_804A7F58
lbl_804A7F58:
	.skip 0x60

.section .sbss
    .balign 8
.global lbl_804D73C8
lbl_804D73C8:
	.skip 0x4
.global lbl_804D73CC
lbl_804D73CC:
	.skip 0x4
.global lbl_804D73D0
lbl_804D73D0:
	.skip 0x8
