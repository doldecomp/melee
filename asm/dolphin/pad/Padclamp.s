.include "macros.inc"

.section .text  # 0x80005940 - 0x803B7240

.global ClampStick
ClampStick:
/* 8034CB50 00349730  88 03 00 00 */	lbz r0, 0(r3)
/* 8034CB54 00349734  89 84 00 00 */	lbz r12, 0(r4)
/* 8034CB58 00349738  7C 00 07 75 */	extsb. r0, r0
/* 8034CB5C 0034973C  7D 8C 07 74 */	extsb r12, r12
/* 8034CB60 00349740  7C 0B 03 78 */	mr r11, r0
/* 8034CB64 00349744  41 80 00 0C */	blt lbl_8034CB70
/* 8034CB68 00349748  38 00 00 01 */	li r0, 1
/* 8034CB6C 0034974C  48 00 00 0C */	b lbl_8034CB78
lbl_8034CB70:
/* 8034CB70 00349750  38 00 FF FF */	li r0, -1
/* 8034CB74 00349754  7D 6B 00 D0 */	neg r11, r11
lbl_8034CB78:
/* 8034CB78 00349758  2C 0C 00 00 */	cmpwi r12, 0
/* 8034CB7C 0034975C  41 80 00 0C */	blt lbl_8034CB88
/* 8034CB80 00349760  39 00 00 01 */	li r8, 1
/* 8034CB84 00349764  48 00 00 0C */	b lbl_8034CB90
lbl_8034CB88:
/* 8034CB88 00349768  39 00 FF FF */	li r8, -1
/* 8034CB8C 0034976C  7D 8C 00 D0 */	neg r12, r12
lbl_8034CB90:
/* 8034CB90 00349770  7C E7 07 74 */	extsb r7, r7
/* 8034CB94 00349774  7C 0B 38 00 */	cmpw r11, r7
/* 8034CB98 00349778  41 81 00 0C */	bgt lbl_8034CBA4
/* 8034CB9C 0034977C  39 60 00 00 */	li r11, 0
/* 8034CBA0 00349780  48 00 00 08 */	b lbl_8034CBA8
lbl_8034CBA4:
/* 8034CBA4 00349784  7D 67 58 50 */	subf r11, r7, r11
lbl_8034CBA8:
/* 8034CBA8 00349788  7C 0C 38 00 */	cmpw r12, r7
/* 8034CBAC 0034978C  41 81 00 0C */	bgt lbl_8034CBB8
/* 8034CBB0 00349790  39 80 00 00 */	li r12, 0
/* 8034CBB4 00349794  48 00 00 08 */	b lbl_8034CBBC
lbl_8034CBB8:
/* 8034CBB8 00349798  7D 87 60 50 */	subf r12, r7, r12
lbl_8034CBBC:
/* 8034CBBC 0034979C  2C 0B 00 00 */	cmpwi r11, 0
/* 8034CBC0 003497A0  40 82 00 1C */	bne lbl_8034CBDC
/* 8034CBC4 003497A4  2C 0C 00 00 */	cmpwi r12, 0
/* 8034CBC8 003497A8  40 82 00 14 */	bne lbl_8034CBDC
/* 8034CBCC 003497AC  38 00 00 00 */	li r0, 0
/* 8034CBD0 003497B0  98 04 00 00 */	stb r0, 0(r4)
/* 8034CBD4 003497B4  98 03 00 00 */	stb r0, 0(r3)
/* 8034CBD8 003497B8  4E 80 00 20 */	blr 
lbl_8034CBDC:
/* 8034CBDC 003497BC  7C C6 07 74 */	extsb r6, r6
/* 8034CBE0 003497C0  7D 26 61 D6 */	mullw r9, r6, r12
/* 8034CBE4 003497C4  7C E6 59 D6 */	mullw r7, r6, r11
/* 8034CBE8 003497C8  7C 09 38 00 */	cmpw r9, r7
/* 8034CBEC 003497CC  41 81 00 44 */	bgt lbl_8034CC30
/* 8034CBF0 003497D0  7C A9 07 74 */	extsb r9, r5
/* 8034CBF4 003497D4  7C A6 48 50 */	subf r5, r6, r9
/* 8034CBF8 003497D8  7C AC 29 D6 */	mullw r5, r12, r5
/* 8034CBFC 003497DC  7D 26 49 D6 */	mullw r9, r6, r9
/* 8034CC00 003497E0  7C E7 2A 14 */	add r7, r7, r5
/* 8034CC04 003497E4  7C 09 38 00 */	cmpw r9, r7
/* 8034CC08 003497E8  40 80 00 64 */	bge lbl_8034CC6C
/* 8034CC0C 003497EC  7C CB 49 D6 */	mullw r6, r11, r9
/* 8034CC10 003497F0  7C AC 49 D6 */	mullw r5, r12, r9
/* 8034CC14 003497F4  7C C6 3B D6 */	divw r6, r6, r7
/* 8034CC18 003497F8  7C A5 3B D6 */	divw r5, r5, r7
/* 8034CC1C 003497FC  7C C6 07 74 */	extsb r6, r6
/* 8034CC20 00349800  7C A5 07 74 */	extsb r5, r5
/* 8034CC24 00349804  39 66 00 00 */	addi r11, r6, 0
/* 8034CC28 00349808  39 85 00 00 */	addi r12, r5, 0
/* 8034CC2C 0034980C  48 00 00 40 */	b lbl_8034CC6C
lbl_8034CC30:
/* 8034CC30 00349810  7C A7 07 74 */	extsb r7, r5
/* 8034CC34 00349814  7C A6 38 50 */	subf r5, r6, r7
/* 8034CC38 00349818  7C AB 29 D6 */	mullw r5, r11, r5
/* 8034CC3C 0034981C  7D 46 39 D6 */	mullw r10, r6, r7
/* 8034CC40 00349820  7C E9 2A 14 */	add r7, r9, r5
/* 8034CC44 00349824  7C 0A 38 00 */	cmpw r10, r7
/* 8034CC48 00349828  40 80 00 24 */	bge lbl_8034CC6C
/* 8034CC4C 0034982C  7C CB 51 D6 */	mullw r6, r11, r10
/* 8034CC50 00349830  7C AC 51 D6 */	mullw r5, r12, r10
/* 8034CC54 00349834  7C C6 3B D6 */	divw r6, r6, r7
/* 8034CC58 00349838  7C A5 3B D6 */	divw r5, r5, r7
/* 8034CC5C 0034983C  7C C6 07 74 */	extsb r6, r6
/* 8034CC60 00349840  7C A5 07 74 */	extsb r5, r5
/* 8034CC64 00349844  39 66 00 00 */	addi r11, r6, 0
/* 8034CC68 00349848  39 85 00 00 */	addi r12, r5, 0
lbl_8034CC6C:
/* 8034CC6C 0034984C  7C A0 59 D6 */	mullw r5, r0, r11
/* 8034CC70 00349850  7C 08 61 D6 */	mullw r0, r8, r12
/* 8034CC74 00349854  98 A3 00 00 */	stb r5, 0(r3)
/* 8034CC78 00349858  98 04 00 00 */	stb r0, 0(r4)
/* 8034CC7C 0034985C  4E 80 00 20 */	blr 

.global PADClamp
PADClamp:
/* 8034CC80 00349860  7C 08 02 A6 */	mflr r0
/* 8034CC84 00349864  90 01 00 04 */	stw r0, 4(r1)
/* 8034CC88 00349868  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8034CC8C 0034986C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8034CC90 00349870  3B E0 00 00 */	li r31, 0
/* 8034CC94 00349874  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8034CC98 00349878  3B C3 00 00 */	addi r30, r3, 0
/* 8034CC9C 0034987C  93 A1 00 14 */	stw r29, 0x14(r1)
lbl_8034CCA0:
/* 8034CCA0 00349880  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 8034CCA4 00349884  7C 00 07 75 */	extsb. r0, r0
/* 8034CCA8 00349888  40 82 00 B4 */	bne lbl_8034CD5C
/* 8034CCAC 0034988C  3B AD A5 90 */	addi r29, r13, lbl_804D5C30@sda21
/* 8034CCB0 00349890  88 BD 00 03 */	lbz r5, 3(r29)
/* 8034CCB4 00349894  38 7E 00 02 */	addi r3, r30, 2
/* 8034CCB8 00349898  88 DD 00 04 */	lbz r6, 4(r29)
/* 8034CCBC 0034989C  38 9E 00 03 */	addi r4, r30, 3
/* 8034CCC0 003498A0  88 FD 00 02 */	lbz r7, 2(r29)
/* 8034CCC4 003498A4  4B FF FE 8D */	bl ClampStick
/* 8034CCC8 003498A8  88 BD 00 06 */	lbz r5, 6(r29)
/* 8034CCCC 003498AC  38 7E 00 04 */	addi r3, r30, 4
/* 8034CCD0 003498B0  88 DD 00 07 */	lbz r6, 7(r29)
/* 8034CCD4 003498B4  38 9E 00 05 */	addi r4, r30, 5
/* 8034CCD8 003498B8  88 FD 00 05 */	lbz r7, 5(r29)
/* 8034CCDC 003498BC  4B FF FE 75 */	bl ClampStick
/* 8034CCE0 003498C0  88 7E 00 06 */	lbz r3, 6(r30)
/* 8034CCE4 003498C4  88 0D A5 90 */	lbz r0, lbl_804D5C30@sda21(r13)
/* 8034CCE8 003498C8  7C 03 00 40 */	cmplw r3, r0
/* 8034CCEC 003498CC  41 81 00 10 */	bgt lbl_8034CCFC
/* 8034CCF0 003498D0  38 00 00 00 */	li r0, 0
/* 8034CCF4 003498D4  98 1E 00 06 */	stb r0, 6(r30)
/* 8034CCF8 003498D8  48 00 00 24 */	b lbl_8034CD1C
lbl_8034CCFC:
/* 8034CCFC 003498DC  88 1D 00 01 */	lbz r0, 1(r29)
/* 8034CD00 003498E0  7C 00 18 40 */	cmplw r0, r3
/* 8034CD04 003498E4  40 80 00 08 */	bge lbl_8034CD0C
/* 8034CD08 003498E8  98 1E 00 06 */	stb r0, 6(r30)
lbl_8034CD0C:
/* 8034CD0C 003498EC  88 6D A5 90 */	lbz r3, lbl_804D5C30@sda21(r13)
/* 8034CD10 003498F0  88 1E 00 06 */	lbz r0, 6(r30)
/* 8034CD14 003498F4  7C 03 00 50 */	subf r0, r3, r0
/* 8034CD18 003498F8  98 1E 00 06 */	stb r0, 6(r30)
lbl_8034CD1C:
/* 8034CD1C 003498FC  88 9E 00 07 */	lbz r4, 7(r30)
/* 8034CD20 00349900  88 0D A5 90 */	lbz r0, lbl_804D5C30@sda21(r13)
/* 8034CD24 00349904  7C 04 00 40 */	cmplw r4, r0
/* 8034CD28 00349908  41 81 00 10 */	bgt lbl_8034CD38
/* 8034CD2C 0034990C  38 00 00 00 */	li r0, 0
/* 8034CD30 00349910  98 1E 00 07 */	stb r0, 7(r30)
/* 8034CD34 00349914  48 00 00 28 */	b lbl_8034CD5C
lbl_8034CD38:
/* 8034CD38 00349918  38 6D A5 90 */	addi r3, r13, lbl_804D5C30@sda21
/* 8034CD3C 0034991C  88 03 00 01 */	lbz r0, 1(r3)
/* 8034CD40 00349920  7C 00 20 40 */	cmplw r0, r4
/* 8034CD44 00349924  40 80 00 08 */	bge lbl_8034CD4C
/* 8034CD48 00349928  98 1E 00 07 */	stb r0, 7(r30)
lbl_8034CD4C:
/* 8034CD4C 0034992C  88 6D A5 90 */	lbz r3, lbl_804D5C30@sda21(r13)
/* 8034CD50 00349930  88 1E 00 07 */	lbz r0, 7(r30)
/* 8034CD54 00349934  7C 03 00 50 */	subf r0, r3, r0
/* 8034CD58 00349938  98 1E 00 07 */	stb r0, 7(r30)
lbl_8034CD5C:
/* 8034CD5C 0034993C  3B FF 00 01 */	addi r31, r31, 1
/* 8034CD60 00349940  2C 1F 00 04 */	cmpwi r31, 4
/* 8034CD64 00349944  3B DE 00 0C */	addi r30, r30, 0xc
/* 8034CD68 00349948  41 80 FF 38 */	blt lbl_8034CCA0
/* 8034CD6C 0034994C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8034CD70 00349950  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8034CD74 00349954  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8034CD78 00349958  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8034CD7C 0034995C  38 21 00 20 */	addi r1, r1, 0x20
/* 8034CD80 00349960  7C 08 03 A6 */	mtlr r0
/* 8034CD84 00349964  4E 80 00 20 */	blr 


.section .sdata

.global lbl_804D5C30
lbl_804D5C30:
    .4byte 0x1EB40F48
    .4byte 0x280F3B1F
