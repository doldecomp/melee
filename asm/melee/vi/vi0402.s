.include "macros.inc"

.section .text  # 0x803124BC - 0x8032261C

.global un_8031D6E4
un_8031D6E4:
/* 8031D6E4 0031A2C4  7C 08 02 A6 */	mflr r0
/* 8031D6E8 0031A2C8  90 01 00 04 */	stw r0, 4(r1)
/* 8031D6EC 0031A2CC  94 21 FF F8 */	stwu r1, -8(r1)
/* 8031D6F0 0031A2D0  80 63 00 28 */	lwz r3, 0x28(r3)
/* 8031D6F4 0031A2D4  48 05 32 35 */	bl HSD_JObjAnimAll
/* 8031D6F8 0031A2D8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8031D6FC 0031A2DC  38 21 00 08 */	addi r1, r1, 8
/* 8031D700 0031A2E0  7C 08 03 A6 */	mtlr r0
/* 8031D704 0031A2E4  4E 80 00 20 */	blr

.global un_8031D708
un_8031D708:
/* 8031D708 0031A2E8  7C 08 02 A6 */	mflr r0
/* 8031D70C 0031A2EC  3C 80 80 39 */	lis r4, HSD_GObj_80391070@ha
/* 8031D710 0031A2F0  90 01 00 04 */	stw r0, 4(r1)
/* 8031D714 0031A2F4  38 00 00 00 */	li r0, 0
/* 8031D718 0031A2F8  3C 60 80 32 */	lis r3, un_8031D6E4@ha
/* 8031D71C 0031A2FC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8031D720 0031A300  BF 61 00 0C */	stmw r27, 0xc(r1)
/* 8031D724 0031A304  54 1D 10 3A */	slwi r29, r0, 2
/* 8031D728 0031A308  3B C4 10 70 */	addi r30, r4, HSD_GObj_80391070@l
/* 8031D72C 0031A30C  3B E3 D6 E4 */	addi r31, r3, un_8031D6E4@l
/* 8031D730 0031A310  48 00 00 94 */	b .L_8031D7C4
.L_8031D734:
/* 8031D734 0031A314  38 60 00 0E */	li r3, 0xe
/* 8031D738 0031A318  38 80 00 0F */	li r4, 0xf
/* 8031D73C 0031A31C  38 A0 00 00 */	li r5, 0
/* 8031D740 0031A320  48 07 2A B1 */	bl GObj_Create
/* 8031D744 0031A324  80 8D B8 C8 */	lwz r4, un_804D6F68@sda21(r13)
/* 8031D748 0031A328  7C 7C 1B 78 */	mr r28, r3
/* 8031D74C 0031A32C  80 64 00 00 */	lwz r3, 0(r4)
/* 8031D750 0031A330  7C 63 E8 2E */	lwzx r3, r3, r29
/* 8031D754 0031A334  80 63 00 00 */	lwz r3, 0(r3)
/* 8031D758 0031A338  48 05 36 ED */	bl HSD_JObjLoadJoint
/* 8031D75C 0031A33C  3B 63 00 00 */	addi r27, r3, 0
/* 8031D760 0031A340  88 8D C1 A9 */	lbz r4, HSD_GObj_804D7849@sda21(r13)
/* 8031D764 0031A344  38 7C 00 00 */	addi r3, r28, 0
/* 8031D768 0031A348  38 BB 00 00 */	addi r5, r27, 0
/* 8031D76C 0031A34C  48 07 33 05 */	bl HSD_GObjObjet_80390A70
/* 8031D770 0031A350  38 7C 00 00 */	addi r3, r28, 0
/* 8031D774 0031A354  38 9E 00 00 */	addi r4, r30, 0
/* 8031D778 0031A358  38 A0 00 03 */	li r5, 3
/* 8031D77C 0031A35C  38 C0 00 00 */	li r6, 0
/* 8031D780 0031A360  48 07 2F 1D */	bl GObj_SetupGXLink
/* 8031D784 0031A364  80 8D B8 C8 */	lwz r4, un_804D6F68@sda21(r13)
/* 8031D788 0031A368  38 7B 00 00 */	addi r3, r27, 0
/* 8031D78C 0031A36C  38 A0 00 00 */	li r5, 0
/* 8031D790 0031A370  80 84 00 00 */	lwz r4, 0(r4)
/* 8031D794 0031A374  7C 84 E8 2E */	lwzx r4, r4, r29
/* 8031D798 0031A378  4B E4 B1 C5 */	bl gm_8016895C
/* 8031D79C 0031A37C  7F 63 DB 78 */	mr r3, r27
/* 8031D7A0 0031A380  C0 22 E6 78 */	lfs f1, un_804DE058@sda21(r2)
/* 8031D7A4 0031A384  48 05 21 19 */	bl HSD_JObjReqAnimAll
/* 8031D7A8 0031A388  7F 63 DB 78 */	mr r3, r27
/* 8031D7AC 0031A38C  48 05 31 7D */	bl HSD_JObjAnimAll
/* 8031D7B0 0031A390  38 7C 00 00 */	addi r3, r28, 0
/* 8031D7B4 0031A394  38 9F 00 00 */	addi r4, r31, 0
/* 8031D7B8 0031A398  38 A0 00 17 */	li r5, 0x17
/* 8031D7BC 0031A39C  48 07 25 99 */	bl HSD_GObjProc_8038FD54
/* 8031D7C0 0031A3A0  3B BD 00 04 */	addi r29, r29, 4
.L_8031D7C4:
/* 8031D7C4 0031A3A4  80 6D B8 C8 */	lwz r3, un_804D6F68@sda21(r13)
/* 8031D7C8 0031A3A8  80 63 00 00 */	lwz r3, 0(r3)
/* 8031D7CC 0031A3AC  7C 03 E8 2E */	lwzx r0, r3, r29
/* 8031D7D0 0031A3B0  28 00 00 00 */	cmplwi r0, 0
/* 8031D7D4 0031A3B4  40 82 FF 60 */	bne .L_8031D734
/* 8031D7D8 0031A3B8  38 60 00 18 */	li r3, 0x18
/* 8031D7DC 0031A3BC  4B D0 97 51 */	bl lbAudioAx_80026F2C
/* 8031D7E0 0031A3C0  38 60 00 08 */	li r3, 8
/* 8031D7E4 0031A3C4  38 C0 00 00 */	li r6, 0
/* 8031D7E8 0031A3C8  38 A0 01 00 */	li r5, 0x100
/* 8031D7EC 0031A3CC  4B D0 98 41 */	bl lbAudioAx_8002702C
/* 8031D7F0 0031A3D0  4B D0 99 79 */	bl lbAudioAx_80027168
/* 8031D7F4 0031A3D4  4B D0 9E 55 */	bl lbAudioAx_80027648
/* 8031D7F8 0031A3D8  BB 61 00 0C */	lmw r27, 0xc(r1)
/* 8031D7FC 0031A3DC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8031D800 0031A3E0  38 21 00 20 */	addi r1, r1, 0x20
/* 8031D804 0031A3E4  7C 08 03 A6 */	mtlr r0
/* 8031D808 0031A3E8  4E 80 00 20 */	blr

.L_8031D80C:
/* 8031D80C 0031A3EC  7C 08 02 A6 */	mflr r0
/* 8031D810 0031A3F0  90 01 00 04 */	stw r0, 4(r1)
/* 8031D814 0031A3F4  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8031D818 0031A3F8  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8031D81C 0031A3FC  83 E3 00 28 */	lwz r31, 0x28(r3)
/* 8031D820 0031A400  7F E3 FB 78 */	mr r3, r31
/* 8031D824 0031A404  48 04 A2 95 */	bl HSD_CObjAnim
/* 8031D828 0031A408  80 7F 00 84 */	lwz r3, 0x84(r31)
/* 8031D82C 0031A40C  C0 23 00 04 */	lfs f1, 4(r3)
/* 8031D830 0031A410  C0 03 00 0C */	lfs f0, 0xc(r3)
/* 8031D834 0031A414  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8031D838 0031A418  40 82 00 0C */	bne .L_8031D844
/* 8031D83C 0031A41C  4B CF 6D B9 */	bl lb_800145F4
/* 8031D840 0031A420  4B E8 73 21 */	bl gm_801A4B60
.L_8031D844:
/* 8031D844 0031A424  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8031D848 0031A428  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8031D84C 0031A42C  38 21 00 18 */	addi r1, r1, 0x18
/* 8031D850 0031A430  7C 08 03 A6 */	mtlr r0
/* 8031D854 0031A434  4E 80 00 20 */	blr

.global un_8031D858
un_8031D858:
/* 8031D858 0031A438  7C 08 02 A6 */	mflr r0
/* 8031D85C 0031A43C  90 01 00 04 */	stw r0, 4(r1)
/* 8031D860 0031A440  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8031D864 0031A444  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8031D868 0031A448  93 C1 00 10 */	stw r30, 0x10(r1)
/* 8031D86C 0031A44C  4B D0 5E 71 */	bl lbAudioAx_800236DC
/* 8031D870 0031A450  4B D3 DC 49 */	bl efLib_8005B4B8
/* 8031D874 0031A454  38 60 00 00 */	li r3, 0
/* 8031D878 0031A458  4B D4 9B 05 */	bl efAsync_8006737C
/* 8031D87C 0031A45C  38 60 00 58 */	li r3, 0x58
/* 8031D880 0031A460  4B D0 66 A9 */	bl lbAudioAx_80023F28
/* 8031D884 0031A464  38 60 00 01 */	li r3, 1
/* 8031D888 0031A468  4B D0 75 C9 */	bl lbAudioAx_80024E50
/* 8031D88C 0031A46C  3C 60 80 40 */	lis r3, un_80400088@ha
/* 8031D890 0031A470  4C C6 31 82 */	crclr 6
/* 8031D894 0031A474  3C 80 80 40 */	lis r4, un_80400094@ha
/* 8031D898 0031A478  38 A4 00 94 */	addi r5, r4, un_80400094@l
/* 8031D89C 0031A47C  38 63 00 88 */	addi r3, r3, un_80400088@l
/* 8031D8A0 0031A480  38 8D B8 C8 */	addi r4, r13, un_804D6F68@sda21
/* 8031D8A4 0031A484  38 C0 00 00 */	li r6, 0
/* 8031D8A8 0031A488  4B CF 93 BD */	bl lbArchive_80016C64
/* 8031D8AC 0031A48C  38 60 00 0B */	li r3, 0xb
/* 8031D8B0 0031A490  38 80 00 03 */	li r4, 3
/* 8031D8B4 0031A494  38 A0 00 00 */	li r5, 0
/* 8031D8B8 0031A498  48 07 29 39 */	bl GObj_Create
/* 8031D8BC 0031A49C  80 8D B8 C8 */	lwz r4, un_804D6F68@sda21(r13)
/* 8031D8C0 0031A4A0  7C 7F 1B 78 */	mr r31, r3
/* 8031D8C4 0031A4A4  80 64 00 08 */	lwz r3, 8(r4)
/* 8031D8C8 0031A4A8  4B CF 41 FD */	bl lb_80011AC4
/* 8031D8CC 0031A4AC  88 8D C1 AA */	lbz r4, HSD_GObj_804D784A@sda21(r13)
/* 8031D8D0 0031A4B0  38 A3 00 00 */	addi r5, r3, 0
/* 8031D8D4 0031A4B4  38 7F 00 00 */	addi r3, r31, 0
/* 8031D8D8 0031A4B8  48 07 31 99 */	bl HSD_GObjObjet_80390A70
/* 8031D8DC 0031A4BC  3C 60 80 39 */	lis r3, HSD_GObj_80391044@ha
/* 8031D8E0 0031A4C0  38 83 10 44 */	addi r4, r3, HSD_GObj_80391044@l
/* 8031D8E4 0031A4C4  38 7F 00 00 */	addi r3, r31, 0
/* 8031D8E8 0031A4C8  38 A0 00 00 */	li r5, 0
/* 8031D8EC 0031A4CC  38 C0 00 00 */	li r6, 0
/* 8031D8F0 0031A4D0  48 07 2D AD */	bl GObj_SetupGXLink
/* 8031D8F4 0031A4D4  38 60 00 13 */	li r3, 0x13
/* 8031D8F8 0031A4D8  38 80 00 14 */	li r4, 0x14
/* 8031D8FC 0031A4DC  38 A0 00 00 */	li r5, 0
/* 8031D900 0031A4E0  48 07 28 F1 */	bl GObj_Create
/* 8031D904 0031A4E4  80 8D B8 C8 */	lwz r4, un_804D6F68@sda21(r13)
/* 8031D908 0031A4E8  7C 7E 1B 78 */	mr r30, r3
/* 8031D90C 0031A4EC  80 64 00 04 */	lwz r3, 4(r4)
/* 8031D910 0031A4F0  80 63 00 00 */	lwz r3, 0(r3)
/* 8031D914 0031A4F4  4B CF 62 01 */	bl lb_80013B14
/* 8031D918 0031A4F8  3B E3 00 00 */	addi r31, r3, 0
/* 8031D91C 0031A4FC  88 8D C1 AB */	lbz r4, HSD_GObj_804D784B@sda21(r13)
/* 8031D920 0031A500  38 7E 00 00 */	addi r3, r30, 0
/* 8031D924 0031A504  38 BF 00 00 */	addi r5, r31, 0
/* 8031D928 0031A508  48 07 31 49 */	bl HSD_GObjObjet_80390A70
/* 8031D92C 0031A50C  3C 60 80 39 */	lis r3, HSD_GObj_803910D8@ha
/* 8031D930 0031A510  38 83 10 D8 */	addi r4, r3, HSD_GObj_803910D8@l
/* 8031D934 0031A514  38 7E 00 00 */	addi r3, r30, 0
/* 8031D938 0031A518  38 A0 00 08 */	li r5, 8
/* 8031D93C 0031A51C  48 07 2E 21 */	bl GObj_SetupGXLinkMax
/* 8031D940 0031A520  38 00 00 89 */	li r0, 0x89
/* 8031D944 0031A524  90 1E 00 24 */	stw r0, 0x24(r30)
/* 8031D948 0031A528  38 00 00 00 */	li r0, 0
/* 8031D94C 0031A52C  38 7F 00 00 */	addi r3, r31, 0
/* 8031D950 0031A530  90 1E 00 20 */	stw r0, 0x20(r30)
/* 8031D954 0031A534  80 8D B8 C8 */	lwz r4, un_804D6F68@sda21(r13)
/* 8031D958 0031A538  80 84 00 04 */	lwz r4, 4(r4)
/* 8031D95C 0031A53C  80 84 00 04 */	lwz r4, 4(r4)
/* 8031D960 0031A540  80 84 00 00 */	lwz r4, 0(r4)
/* 8031D964 0031A544  48 04 9F 69 */	bl HSD_CObjAddAnim
/* 8031D968 0031A548  7F E3 FB 78 */	mr r3, r31
/* 8031D96C 0031A54C  C0 22 E6 78 */	lfs f1, un_804DE058@sda21(r2)
/* 8031D970 0031A550  48 04 A1 99 */	bl HSD_CObjReqAnim
/* 8031D974 0031A554  7F E3 FB 78 */	mr r3, r31
/* 8031D978 0031A558  48 04 A1 41 */	bl HSD_CObjAnim
/* 8031D97C 0031A55C  3C 60 80 32 */	lis r3, .L_8031D80C@ha
/* 8031D980 0031A560  38 83 D8 0C */	addi r4, r3, .L_8031D80C@l
/* 8031D984 0031A564  38 7E 00 00 */	addi r3, r30, 0
/* 8031D988 0031A568  38 A0 00 00 */	li r5, 0
/* 8031D98C 0031A56C  48 07 23 C9 */	bl HSD_GObjProc_8038FD54
/* 8031D990 0031A570  4B FF FD 79 */	bl un_8031D708
/* 8031D994 0031A574  38 60 00 22 */	li r3, 0x22
/* 8031D998 0031A578  38 80 00 00 */	li r4, 0
/* 8031D99C 0031A57C  4B FF F0 19 */	bl un_8031C9B4
/* 8031D9A0 0031A580  4B D1 93 B9 */	bl Player_InitAllPlayers
/* 8031D9A4 0031A584  38 60 00 00 */	li r3, 0
/* 8031D9A8 0031A588  4B D0 74 A9 */	bl lbAudioAx_80024E50
/* 8031D9AC 0031A58C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8031D9B0 0031A590  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8031D9B4 0031A594  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 8031D9B8 0031A598  38 21 00 18 */	addi r1, r1, 0x18
/* 8031D9BC 0031A59C  7C 08 03 A6 */	mtlr r0
/* 8031D9C0 0031A5A0  4E 80 00 20 */	blr
.global un_8031D9C4
un_8031D9C4:
/* 8031D9C4 0031A5A4  7C 08 02 A6 */	mflr r0
/* 8031D9C8 0031A5A8  90 01 00 04 */	stw r0, 4(r1)
/* 8031D9CC 0031A5AC  94 21 FF F8 */	stwu r1, -8(r1)
/* 8031D9D0 0031A5B0  4B FF F0 DD */	bl un_8031CAAC
/* 8031D9D4 0031A5B4  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8031D9D8 0031A5B8  38 21 00 08 */	addi r1, r1, 8
/* 8031D9DC 0031A5BC  7C 08 03 A6 */	mtlr r0
/* 8031D9E0 0031A5C0  4E 80 00 20 */	blr

.global un_8031D9E4
un_8031D9E4:
/* 8031D9E4 0031A5C4  98 6D B8 E4 */	stb r3, un_804D6F84@sda21(r13)
/* 8031D9E8 0031A5C8  38 6D B8 E4 */	addi r3, r13, un_804D6F84@sda21
/* 8031D9EC 0031A5CC  98 83 00 01 */	stb r4, 1(r3)
/* 8031D9F0 0031A5D0  98 A3 00 03 */	stb r5, 3(r3)
/* 8031D9F4 0031A5D4  4E 80 00 20 */	blr


.section .data
    .balign 8
.global un_80400088
un_80400088:
    .asciz "Vi0402.dat"
    .balign 4
.global un_80400094
un_80400094:
    .asciz "visual0402Scene"
    .balign 4
    .4byte NULL


.section .sdata2
    .balign 8
.global un_804DE058
un_804DE058:
    .4byte 0x00000000
    .4byte 0x00000000
