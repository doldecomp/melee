#include <dolphin/os/OSInterrupt.h>

void lbl_80347374(void);

#pragma push
asm BOOL OSDisableInterrupts(void)
{ // clang-format off
    nofralloc
/* 80347364 00343F44  7C 60 00 A6 */	mfmsr r3
/* 80347368 00343F48  54 64 04 5E */	rlwinm r4, r3, 0, 0x11, 0xf
/* 8034736C 00343F4C  7C 80 01 24 */	mtmsr r4
/* 80347370 00343F50  54 63 8F FE */	rlwinm r3, r3, 0x11, 0x1f, 0x1f
entry lbl_80347374
/* 80347374 00343F54  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm BOOL OSEnableInterrupts(void)
{ // clang-format off
    nofralloc
/* 80347378 00343F58  7C 60 00 A6 */	mfmsr r3
/* 8034737C 00343F5C  60 64 80 00 */	ori r4, r3, 0x8000
/* 80347380 00343F60  7C 80 01 24 */	mtmsr r4
/* 80347384 00343F64  54 63 8F FE */	rlwinm r3, r3, 0x11, 0x1f, 0x1f
/* 80347388 00343F68  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm BOOL OSRestoreInterrupts(BOOL)
{ // clang-format off
    nofralloc
/* 8034738C 00343F6C  2C 03 00 00 */	cmpwi r3, 0
/* 80347390 00343F70  7C 80 00 A6 */	mfmsr r4
/* 80347394 00343F74  41 82 00 0C */	beq lbl_803473A0
/* 80347398 00343F78  60 85 80 00 */	ori r5, r4, 0x8000
/* 8034739C 00343F7C  48 00 00 08 */	b lbl_803473A4
lbl_803473A0:
/* 803473A0 00343F80  54 85 04 5E */	rlwinm r5, r4, 0, 0x11, 0xf
lbl_803473A4:
/* 803473A4 00343F84  7C A0 01 24 */	mtmsr r5
/* 803473A8 00343F88  54 84 8F FE */	rlwinm r4, r4, 0x11, 0x1f, 0x1f
/* 803473AC 00343F8C  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t lbl_804D7378;

#pragma push
asm OSInterruptHandler __OSSetInterruptHandler(OSInterruptType, OSInterruptHandler)
{ // clang-format off
    nofralloc
/* 803473B0 00343F90  7C 60 07 34 */	extsh r0, r3
/* 803473B4 00343F94  80 6D BC D8 */	lwz r3, lbl_804D7378(r13)
/* 803473B8 00343F98  54 00 10 3A */	slwi r0, r0, 2
/* 803473BC 00343F9C  7C A3 02 14 */	add r5, r3, r0
/* 803473C0 00343FA0  80 65 00 00 */	lwz r3, 0(r5)
/* 803473C4 00343FA4  90 85 00 00 */	stw r4, 0(r5)
/* 803473C8 00343FA8  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm OSInterruptHandler __OSGetInterruptHandler(OSInterruptType)
{ // clang-format off
    nofralloc
/* 803473CC 00343FAC  7C 60 07 34 */	extsh r0, r3
/* 803473D0 00343FB0  80 6D BC D8 */	lwz r3, lbl_804D7378(r13)
/* 803473D4 00343FB4  54 00 10 3A */	slwi r0, r0, 2
/* 803473D8 00343FB8  7C 63 00 2E */	lwzx r3, r3, r0
/* 803473DC 00343FBC  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t lbl_80347B80();
extern unk_t __OSSetExceptionHandler();
extern unk_t memset();

#pragma push
asm void __OSInterruptInit(void)
{ // clang-format off
    nofralloc
/* 803473E0 00343FC0  7C 08 02 A6 */	mflr r0
/* 803473E4 00343FC4  90 01 00 04 */	stw r0, 4(r1)
/* 803473E8 00343FC8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803473EC 00343FCC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803473F0 00343FD0  3F E0 80 00 */	lis r31, 0x80003040@ha
/* 803473F4 00343FD4  38 1F 30 40 */	addi r0, r31, 0x80003040@l
/* 803473F8 00343FD8  90 0D BC D8 */	stw r0, lbl_804D7378(r13)
/* 803473FC 00343FDC  38 80 00 00 */	li r4, 0
/* 80347400 00343FE0  38 A0 00 80 */	li r5, 0x80
/* 80347404 00343FE4  80 6D BC D8 */	lwz r3, lbl_804D7378(r13)
/* 80347408 00343FE8  4B CB BC F9 */	bl memset
/* 8034740C 00343FEC  38 00 00 00 */	li r0, 0
/* 80347410 00343FF0  90 1F 00 C4 */	stw r0, 0xc4(r31)
/* 80347414 00343FF4  3C 60 CC 00 */	lis r3, 0xCC003000@ha
/* 80347418 00343FF8  38 83 30 00 */	addi r4, r3, 0xCC003000@l
/* 8034741C 00343FFC  90 1F 00 C8 */	stw r0, 0xc8(r31)
/* 80347420 00344000  38 00 00 F0 */	li r0, 0xf0
/* 80347424 00344004  38 60 FF E0 */	li r3, -32
/* 80347428 00344008  90 04 00 04 */	stw r0, 4(r4)
/* 8034742C 0034400C  48 00 03 01 */	bl __OSMaskInterrupts
/* 80347430 00344010  3C 60 80 34 */	lis r3, lbl_80347B80@ha
/* 80347434 00344014  38 83 7B 80 */	addi r4, r3, lbl_80347B80@l
/* 80347438 00344018  38 60 00 04 */	li r3, 4
/* 8034743C 0034401C  4B FF C1 79 */	bl __OSSetExceptionHandler
/* 80347440 00344020  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80347444 00344024  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80347448 00344028  38 21 00 10 */	addi r1, r1, 0x10
/* 8034744C 0034402C  7C 08 03 A6 */	mtlr r0
/* 80347450 00344030  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm unk_t SetInterruptMask()
{ // clang-format off
    nofralloc
/* 80347454 00344034  7C 60 00 34 */	cntlzw r0, r3
/* 80347458 00344038  2C 00 00 0C */	cmpwi r0, 0xc
/* 8034745C 0034403C  40 80 00 24 */	bge lbl_80347480
/* 80347460 00344040  2C 00 00 08 */	cmpwi r0, 8
/* 80347464 00344044  41 82 00 FC */	beq lbl_80347560
/* 80347468 00344048  40 80 01 28 */	bge lbl_80347590
/* 8034746C 0034404C  2C 00 00 05 */	cmpwi r0, 5
/* 80347470 00344050  40 80 00 9C */	bge lbl_8034750C
/* 80347474 00344054  2C 00 00 00 */	cmpwi r0, 0
/* 80347478 00344058  40 80 00 28 */	bge lbl_803474A0
/* 8034747C 0034405C  48 00 02 AC */	b lbl_80347728
lbl_80347480:
/* 80347480 00344060  2C 00 00 11 */	cmpwi r0, 0x11
/* 80347484 00344064  40 80 00 10 */	bge lbl_80347494
/* 80347488 00344068  2C 00 00 0F */	cmpwi r0, 0xf
/* 8034748C 0034406C  40 80 01 A8 */	bge lbl_80347634
/* 80347490 00344070  48 00 01 50 */	b lbl_803475E0
lbl_80347494:
/* 80347494 00344074  2C 00 00 1B */	cmpwi r0, 0x1b
/* 80347498 00344078  40 80 02 90 */	bge lbl_80347728
/* 8034749C 0034407C  48 00 01 D8 */	b lbl_80347674
lbl_803474A0:
/* 803474A0 00344080  54 80 00 00 */	rlwinm r0, r4, 0, 0, 0
/* 803474A4 00344084  28 00 00 00 */	cmplwi r0, 0
/* 803474A8 00344088  38 A0 00 00 */	li r5, 0
/* 803474AC 0034408C  40 82 00 08 */	bne lbl_803474B4
/* 803474B0 00344090  60 A5 00 01 */	ori r5, r5, 1
lbl_803474B4:
/* 803474B4 00344094  54 80 00 42 */	rlwinm r0, r4, 0, 1, 1
/* 803474B8 00344098  28 00 00 00 */	cmplwi r0, 0
/* 803474BC 0034409C  40 82 00 08 */	bne lbl_803474C4
/* 803474C0 003440A0  60 A5 00 02 */	ori r5, r5, 2
lbl_803474C4:
/* 803474C4 003440A4  54 80 00 84 */	rlwinm r0, r4, 0, 2, 2
/* 803474C8 003440A8  28 00 00 00 */	cmplwi r0, 0
/* 803474CC 003440AC  40 82 00 08 */	bne lbl_803474D4
/* 803474D0 003440B0  60 A5 00 04 */	ori r5, r5, 4
lbl_803474D4:
/* 803474D4 003440B4  54 80 00 C6 */	rlwinm r0, r4, 0, 3, 3
/* 803474D8 003440B8  28 00 00 00 */	cmplwi r0, 0
/* 803474DC 003440BC  40 82 00 08 */	bne lbl_803474E4
/* 803474E0 003440C0  60 A5 00 08 */	ori r5, r5, 8
lbl_803474E4:
/* 803474E4 003440C4  54 80 01 08 */	rlwinm r0, r4, 0, 4, 4
/* 803474E8 003440C8  28 00 00 00 */	cmplwi r0, 0
/* 803474EC 003440CC  40 82 00 08 */	bne lbl_803474F4
/* 803474F0 003440D0  60 A5 00 10 */	ori r5, r5, 0x10
lbl_803474F4:
/* 803474F4 003440D4  3C 80 CC 00 */	lis r4, 0xCC004000@ha
/* 803474F8 003440D8  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 803474FC 003440DC  38 84 40 00 */	addi r4, r4, 0xCC004000@l
/* 80347500 003440E0  B0 04 00 1C */	sth r0, 0x1c(r4)
/* 80347504 003440E4  54 63 01 7E */	clrlwi r3, r3, 5
/* 80347508 003440E8  48 00 02 20 */	b lbl_80347728
lbl_8034750C:
/* 8034750C 003440EC  3C A0 CC 00 */	lis r5, 0xCC005000@ha
/* 80347510 003440F0  38 A5 50 00 */	addi r5, r5, 0xCC005000@l
/* 80347514 003440F4  38 A5 00 0A */	addi r5, r5, 0xa
/* 80347518 003440F8  54 80 01 4A */	rlwinm r0, r4, 0, 5, 5
/* 8034751C 003440FC  A0 C5 00 00 */	lhz r6, 0(r5)
/* 80347520 00344100  28 00 00 00 */	cmplwi r0, 0
/* 80347524 00344104  54 C6 07 6C */	rlwinm r6, r6, 0, 0x1d, 0x16
/* 80347528 00344108  40 82 00 08 */	bne lbl_80347530
/* 8034752C 0034410C  60 C6 00 10 */	ori r6, r6, 0x10
lbl_80347530:
/* 80347530 00344110  54 80 01 8C */	rlwinm r0, r4, 0, 6, 6
/* 80347534 00344114  28 00 00 00 */	cmplwi r0, 0
/* 80347538 00344118  40 82 00 08 */	bne lbl_80347540
/* 8034753C 0034411C  60 C6 00 40 */	ori r6, r6, 0x40
lbl_80347540:
/* 80347540 00344120  54 80 01 CE */	rlwinm r0, r4, 0, 7, 7
/* 80347544 00344124  28 00 00 00 */	cmplwi r0, 0
/* 80347548 00344128  40 82 00 08 */	bne lbl_80347550
/* 8034754C 0034412C  60 C6 01 00 */	ori r6, r6, 0x100
lbl_80347550:
/* 80347550 00344130  54 C0 04 3E */	clrlwi r0, r6, 0x10
/* 80347554 00344134  B0 05 00 00 */	sth r0, 0(r5)
/* 80347558 00344138  54 63 02 08 */	rlwinm r3, r3, 0, 8, 4
/* 8034755C 0034413C  48 00 01 CC */	b lbl_80347728
lbl_80347560:
/* 80347560 00344140  54 80 02 10 */	rlwinm r0, r4, 0, 8, 8
/* 80347564 00344144  3C 80 CC 00 */	lis r4, 0xCC006C00@ha
/* 80347568 00344148  28 00 00 00 */	cmplwi r0, 0
/* 8034756C 0034414C  80 A4 6C 00 */	lwz r5, 0xCC006C00@l(r4)
/* 80347570 00344150  38 00 FF D3 */	li r0, -45
/* 80347574 00344154  7C A5 00 38 */	and r5, r5, r0
/* 80347578 00344158  40 82 00 08 */	bne lbl_80347580
/* 8034757C 0034415C  60 A5 00 04 */	ori r5, r5, 4
lbl_80347580:
/* 80347580 00344160  3C 80 CC 00 */	lis r4, 0xCC006C00@ha
/* 80347584 00344164  90 A4 6C 00 */	stw r5, 0xCC006C00@l(r4)
/* 80347588 00344168  54 63 02 4E */	rlwinm r3, r3, 0, 9, 7
/* 8034758C 0034416C  48 00 01 9C */	b lbl_80347728
lbl_80347590:
/* 80347590 00344170  54 80 02 52 */	rlwinm r0, r4, 0, 9, 9
/* 80347594 00344174  3C A0 CC 00 */	lis r5, 0xCC006800@ha
/* 80347598 00344178  28 00 00 00 */	cmplwi r0, 0
/* 8034759C 0034417C  80 A5 68 00 */	lwz r5, 0xCC006800@l(r5)
/* 803475A0 00344180  38 00 D3 F0 */	li r0, -11280
/* 803475A4 00344184  7C A5 00 38 */	and r5, r5, r0
/* 803475A8 00344188  40 82 00 08 */	bne lbl_803475B0
/* 803475AC 0034418C  60 A5 00 01 */	ori r5, r5, 1
lbl_803475B0:
/* 803475B0 00344190  54 80 02 94 */	rlwinm r0, r4, 0, 0xa, 0xa
/* 803475B4 00344194  28 00 00 00 */	cmplwi r0, 0
/* 803475B8 00344198  40 82 00 08 */	bne lbl_803475C0
/* 803475BC 0034419C  60 A5 00 04 */	ori r5, r5, 4
lbl_803475C0:
/* 803475C0 003441A0  54 80 02 D6 */	rlwinm r0, r4, 0, 0xb, 0xb
/* 803475C4 003441A4  28 00 00 00 */	cmplwi r0, 0
/* 803475C8 003441A8  40 82 00 08 */	bne lbl_803475D0
/* 803475CC 003441AC  60 A5 04 00 */	ori r5, r5, 0x400
lbl_803475D0:
/* 803475D0 003441B0  3C 80 CC 00 */	lis r4, 0xCC006800@ha
/* 803475D4 003441B4  90 A4 68 00 */	stw r5, 0xCC006800@l(r4)
/* 803475D8 003441B8  54 63 03 10 */	rlwinm r3, r3, 0, 0xc, 8
/* 803475DC 003441BC  48 00 01 4C */	b lbl_80347728
lbl_803475E0:
/* 803475E0 003441C0  3C A0 CC 00 */	lis r5, 0xCC006800@ha
/* 803475E4 003441C4  38 C5 68 00 */	addi r6, r5, 0xCC006800@l
/* 803475E8 003441C8  38 C6 00 14 */	addi r6, r6, 0x14
/* 803475EC 003441CC  54 80 03 18 */	rlwinm r0, r4, 0, 0xc, 0xc
/* 803475F0 003441D0  80 E6 00 00 */	lwz r7, 0(r6)
/* 803475F4 003441D4  38 A0 F3 F0 */	li r5, -3088
/* 803475F8 003441D8  28 00 00 00 */	cmplwi r0, 0
/* 803475FC 003441DC  7C E7 28 38 */	and r7, r7, r5
/* 80347600 003441E0  40 82 00 08 */	bne lbl_80347608
/* 80347604 003441E4  60 E7 00 01 */	ori r7, r7, 1
lbl_80347608:
/* 80347608 003441E8  54 80 03 5A */	rlwinm r0, r4, 0, 0xd, 0xd
/* 8034760C 003441EC  28 00 00 00 */	cmplwi r0, 0
/* 80347610 003441F0  40 82 00 08 */	bne lbl_80347618
/* 80347614 003441F4  60 E7 00 04 */	ori r7, r7, 4
lbl_80347618:
/* 80347618 003441F8  54 80 03 9C */	rlwinm r0, r4, 0, 0xe, 0xe
/* 8034761C 003441FC  28 00 00 00 */	cmplwi r0, 0
/* 80347620 00344200  40 82 00 08 */	bne lbl_80347628
/* 80347624 00344204  60 E7 04 00 */	ori r7, r7, 0x400
lbl_80347628:
/* 80347628 00344208  90 E6 00 00 */	stw r7, 0(r6)
/* 8034762C 0034420C  54 63 03 D6 */	rlwinm r3, r3, 0, 0xf, 0xb
/* 80347630 00344210  48 00 00 F8 */	b lbl_80347728
lbl_80347634:
/* 80347634 00344214  3C A0 CC 00 */	lis r5, 0xCC006800@ha
/* 80347638 00344218  38 A5 68 00 */	addi r5, r5, 0xCC006800@l
/* 8034763C 0034421C  38 A5 00 28 */	addi r5, r5, 0x28
/* 80347640 00344220  54 80 03 DE */	rlwinm r0, r4, 0, 0xf, 0xf
/* 80347644 00344224  80 C5 00 00 */	lwz r6, 0(r5)
/* 80347648 00344228  28 00 00 00 */	cmplwi r0, 0
/* 8034764C 0034422C  54 C6 00 36 */	rlwinm r6, r6, 0, 0, 0x1b
/* 80347650 00344230  40 82 00 08 */	bne lbl_80347658
/* 80347654 00344234  60 C6 00 01 */	ori r6, r6, 1
lbl_80347658:
/* 80347658 00344238  54 80 04 20 */	rlwinm r0, r4, 0, 0x10, 0x10
/* 8034765C 0034423C  28 00 00 00 */	cmplwi r0, 0
/* 80347660 00344240  40 82 00 08 */	bne lbl_80347668
/* 80347664 00344244  60 C6 00 04 */	ori r6, r6, 4
lbl_80347668:
/* 80347668 00344248  90 C5 00 00 */	stw r6, 0(r5)
/* 8034766C 0034424C  54 63 04 5C */	rlwinm r3, r3, 0, 0x11, 0xe
/* 80347670 00344250  48 00 00 B8 */	b lbl_80347728
lbl_80347674:
/* 80347674 00344254  54 80 04 62 */	rlwinm r0, r4, 0, 0x11, 0x11
/* 80347678 00344258  28 00 00 00 */	cmplwi r0, 0
/* 8034767C 0034425C  38 A0 00 F0 */	li r5, 0xf0
/* 80347680 00344260  40 82 00 08 */	bne lbl_80347688
/* 80347684 00344264  60 A5 08 00 */	ori r5, r5, 0x800
lbl_80347688:
/* 80347688 00344268  54 80 05 28 */	rlwinm r0, r4, 0, 0x14, 0x14
/* 8034768C 0034426C  28 00 00 00 */	cmplwi r0, 0
/* 80347690 00344270  40 82 00 08 */	bne lbl_80347698
/* 80347694 00344274  60 A5 00 08 */	ori r5, r5, 8
lbl_80347698:
/* 80347698 00344278  54 80 05 6A */	rlwinm r0, r4, 0, 0x15, 0x15
/* 8034769C 0034427C  28 00 00 00 */	cmplwi r0, 0
/* 803476A0 00344280  40 82 00 08 */	bne lbl_803476A8
/* 803476A4 00344284  60 A5 00 04 */	ori r5, r5, 4
lbl_803476A8:
/* 803476A8 00344288  54 80 05 AC */	rlwinm r0, r4, 0, 0x16, 0x16
/* 803476AC 0034428C  28 00 00 00 */	cmplwi r0, 0
/* 803476B0 00344290  40 82 00 08 */	bne lbl_803476B8
/* 803476B4 00344294  60 A5 00 02 */	ori r5, r5, 2
lbl_803476B8:
/* 803476B8 00344298  54 80 05 EE */	rlwinm r0, r4, 0, 0x17, 0x17
/* 803476BC 0034429C  28 00 00 00 */	cmplwi r0, 0
/* 803476C0 003442A0  40 82 00 08 */	bne lbl_803476C8
/* 803476C4 003442A4  60 A5 00 01 */	ori r5, r5, 1
lbl_803476C8:
/* 803476C8 003442A8  54 80 06 30 */	rlwinm r0, r4, 0, 0x18, 0x18
/* 803476CC 003442AC  28 00 00 00 */	cmplwi r0, 0
/* 803476D0 003442B0  40 82 00 08 */	bne lbl_803476D8
/* 803476D4 003442B4  60 A5 01 00 */	ori r5, r5, 0x100
lbl_803476D8:
/* 803476D8 003442B8  54 80 06 72 */	rlwinm r0, r4, 0, 0x19, 0x19
/* 803476DC 003442BC  28 00 00 00 */	cmplwi r0, 0
/* 803476E0 003442C0  40 82 00 08 */	bne lbl_803476E8
/* 803476E4 003442C4  60 A5 10 00 */	ori r5, r5, 0x1000
lbl_803476E8:
/* 803476E8 003442C8  54 80 04 A4 */	rlwinm r0, r4, 0, 0x12, 0x12
/* 803476EC 003442CC  28 00 00 00 */	cmplwi r0, 0
/* 803476F0 003442D0  40 82 00 08 */	bne lbl_803476F8
/* 803476F4 003442D4  60 A5 02 00 */	ori r5, r5, 0x200
lbl_803476F8:
/* 803476F8 003442D8  54 80 04 E6 */	rlwinm r0, r4, 0, 0x13, 0x13
/* 803476FC 003442DC  28 00 00 00 */	cmplwi r0, 0
/* 80347700 003442E0  40 82 00 08 */	bne lbl_80347708
/* 80347704 003442E4  60 A5 04 00 */	ori r5, r5, 0x400
lbl_80347708:
/* 80347708 003442E8  54 80 06 B4 */	rlwinm r0, r4, 0, 0x1a, 0x1a
/* 8034770C 003442EC  28 00 00 00 */	cmplwi r0, 0
/* 80347710 003442F0  40 82 00 08 */	bne lbl_80347718
/* 80347714 003442F4  60 A5 20 00 */	ori r5, r5, 0x2000
lbl_80347718:
/* 80347718 003442F8  3C 80 CC 00 */	lis r4, 0xCC003000@ha
/* 8034771C 003442FC  38 84 30 00 */	addi r4, r4, 0xCC003000@l
/* 80347720 00344300  90 A4 00 04 */	stw r5, 4(r4)
/* 80347724 00344304  54 63 06 E0 */	rlwinm r3, r3, 0, 0x1b, 0x10
lbl_80347728:
/* 80347728 00344308  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop



#pragma push
asm u32 __OSMaskInterrupts(u32)
{ // clang-format off
    nofralloc
/* 8034772C 0034430C  7C 08 02 A6 */	mflr r0
/* 80347730 00344310  90 01 00 04 */	stw r0, 4(r1)
/* 80347734 00344314  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80347738 00344318  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8034773C 0034431C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80347740 00344320  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80347744 00344324  7C 7F 1B 78 */	mr r31, r3
/* 80347748 00344328  4B FF FC 1D */	bl OSDisableInterrupts
/* 8034774C 0034432C  3C 80 80 00 */	lis r4, 0x800000C4@ha
/* 80347750 00344330  83 A4 00 C4 */	lwz r29, 0x800000C4@l(r4)
/* 80347754 00344334  7C 7E 1B 78 */	mr r30, r3
/* 80347758 00344338  80 A4 00 C8 */	lwz r5, 0xc8(r4)
/* 8034775C 0034433C  7F A0 2B 78 */	or r0, r29, r5
/* 80347760 00344340  7F E3 00 78 */	andc r3, r31, r0
/* 80347764 00344344  7F FF EB 78 */	or r31, r31, r29
/* 80347768 00344348  93 E4 00 C4 */	stw r31, 0xc4(r4)
/* 8034776C 0034434C  7F FF 2B 78 */	or r31, r31, r5
/* 80347770 00344350  48 00 00 04 */	b lbl_80347774
lbl_80347774:
/* 80347774 00344354  48 00 00 04 */	b lbl_80347778
lbl_80347778:
/* 80347778 00344358  48 00 00 0C */	b lbl_80347784
lbl_8034777C:
/* 8034777C 0034435C  7F E4 FB 78 */	mr r4, r31
/* 80347780 00344360  4B FF FC D5 */	bl SetInterruptMask
lbl_80347784:
/* 80347784 00344364  28 03 00 00 */	cmplwi r3, 0
/* 80347788 00344368  40 82 FF F4 */	bne lbl_8034777C
/* 8034778C 0034436C  7F C3 F3 78 */	mr r3, r30
/* 80347790 00344370  4B FF FB FD */	bl OSRestoreInterrupts
/* 80347794 00344374  7F A3 EB 78 */	mr r3, r29
/* 80347798 00344378  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8034779C 0034437C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803477A0 00344380  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803477A4 00344384  7C 08 03 A6 */	mtlr r0
/* 803477A8 00344388  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803477AC 0034438C  38 21 00 20 */	addi r1, r1, 0x20
/* 803477B0 00344390  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

