#include <dolphin/os/OSInterrupt.h>

extern unk_t lbl_80402358;

#pragma push
asm unk_t SIBusy()
{ // clang-format off
    nofralloc
/* 803494BC 0034609C  3C 60 80 40 */	lis r3, lbl_80402358@ha
/* 803494C0 003460A0  80 03 23 58 */	lwz r0, lbl_80402358@l(r3)
/* 803494C4 003460A4  2C 00 FF FF */	cmpwi r0, -1
/* 803494C8 003460A8  41 82 00 0C */	beq lbl_803494D4
/* 803494CC 003460AC  38 60 00 01 */	li r3, 1
/* 803494D0 003460B0  4E 80 00 20 */	blr 
lbl_803494D4:
/* 803494D4 003460B4  38 60 00 00 */	li r3, 0
/* 803494D8 003460B8  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t Packet;

#pragma push
asm unk_t SIIsChanBusy()
{ // clang-format off
    nofralloc
/* 803494DC 003460BC  3C 80 80 4A */	lis r4, Packet@ha
/* 803494E0 003460C0  54 65 28 34 */	slwi r5, r3, 5
/* 803494E4 003460C4  38 04 7D B8 */	addi r0, r4, Packet@l
/* 803494E8 003460C8  7C 80 2A 14 */	add r4, r0, r5
/* 803494EC 003460CC  80 04 00 00 */	lwz r0, 0(r4)
/* 803494F0 003460D0  38 A0 00 01 */	li r5, 1
/* 803494F4 003460D4  2C 00 FF FF */	cmpwi r0, -1
/* 803494F8 003460D8  40 82 00 18 */	bne lbl_80349510
/* 803494FC 003460DC  3C 80 80 40 */	lis r4, lbl_80402358@ha
/* 80349500 003460E0  80 04 23 58 */	lwz r0, lbl_80402358@l(r4)
/* 80349504 003460E4  7C 00 18 00 */	cmpw r0, r3
/* 80349508 003460E8  41 82 00 08 */	beq lbl_80349510
/* 8034950C 003460EC  38 A0 00 00 */	li r5, 0
lbl_80349510:
/* 80349510 003460F0  7C A3 2B 78 */	mr r3, r5
/* 80349514 003460F4  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t lbl_804A7EF8;
extern unk_t lbl_804A7ED8;
extern unk_t __OSGetSystemTime();

#pragma push
asm unk_t CompleteTransfer()
{ // clang-format off
    nofralloc
/* 80349518 003460F8  7C 08 02 A6 */	mflr r0
/* 8034951C 003460FC  3C 60 CC 00 */	lis r3, 0xCC006400@ha
/* 80349520 00346100  90 01 00 04 */	stw r0, 4(r1)
/* 80349524 00346104  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80349528 00346108  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8034952C 0034610C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80349530 00346110  3B C3 64 00 */	addi r30, r3, 0xCC006400@l
/* 80349534 00346114  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80349538 00346118  3B BE 00 34 */	addi r29, r30, 0x34
/* 8034953C 0034611C  93 81 00 10 */	stw r28, 0x10(r1)
/* 80349540 00346120  80 03 64 34 */	lwz r0, 0x6434(r3)
/* 80349544 00346124  83 83 64 38 */	lwz r28, 0x6438(r3)
/* 80349548 00346128  3C 60 80 40 */	lis r3, lbl_80402358@ha
/* 8034954C 0034612C  64 00 80 00 */	oris r0, r0, 0x8000
/* 80349550 00346130  54 00 00 3C */	rlwinm r0, r0, 0, 0, 0x1e
/* 80349554 00346134  90 1E 00 34 */	stw r0, 0x34(r30)
/* 80349558 00346138  3B E3 23 58 */	addi r31, r3, lbl_80402358@l
/* 8034955C 0034613C  80 1F 00 00 */	lwz r0, 0(r31)
/* 80349560 00346140  2C 00 FF FF */	cmpwi r0, -1
/* 80349564 00346144  41 82 02 74 */	beq lbl_803497D8
/* 80349568 00346148  48 00 2E A9 */	bl __OSGetSystemTime
/* 8034956C 0034614C  80 DF 00 00 */	lwz r6, 0(r31)
/* 80349570 00346150  3C A0 80 4A */	lis r5, lbl_804A7EF8@ha
/* 80349574 00346154  38 05 7E F8 */	addi r0, r5, lbl_804A7EF8@l
/* 80349578 00346158  54 C5 18 38 */	slwi r5, r6, 3
/* 8034957C 0034615C  7C A0 2A 14 */	add r5, r0, r5
/* 80349580 00346160  90 85 00 04 */	stw r4, 4(r5)
/* 80349584 00346164  38 DF 00 08 */	addi r6, r31, 8
/* 80349588 00346168  38 80 00 00 */	li r4, 0
/* 8034958C 0034616C  90 65 00 00 */	stw r3, 0(r5)
/* 80349590 00346170  80 1F 00 08 */	lwz r0, 8(r31)
/* 80349594 00346174  80 BF 00 0C */	lwz r5, 0xc(r31)
/* 80349598 00346178  54 07 F0 BE */	srwi r7, r0, 2
/* 8034959C 0034617C  28 07 00 00 */	cmplwi r7, 0
/* 803495A0 00346180  40 81 00 A0 */	ble lbl_80349640
/* 803495A4 00346184  28 07 00 08 */	cmplwi r7, 8
/* 803495A8 00346188  38 67 FF F8 */	addi r3, r7, -8
/* 803495AC 0034618C  40 81 02 34 */	ble lbl_803497E0
/* 803495B0 00346190  38 03 00 07 */	addi r0, r3, 7
/* 803495B4 00346194  54 00 E8 FE */	srwi r0, r0, 3
/* 803495B8 00346198  28 03 00 00 */	cmplwi r3, 0
/* 803495BC 0034619C  7C 09 03 A6 */	mtctr r0
/* 803495C0 003461A0  40 81 02 20 */	ble lbl_803497E0
lbl_803495C4:
/* 803495C4 003461A4  80 1E 00 80 */	lwz r0, 0x80(r30)
/* 803495C8 003461A8  38 84 00 08 */	addi r4, r4, 8
/* 803495CC 003461AC  90 05 00 00 */	stw r0, 0(r5)
/* 803495D0 003461B0  80 1E 00 84 */	lwz r0, 0x84(r30)
/* 803495D4 003461B4  90 05 00 04 */	stw r0, 4(r5)
/* 803495D8 003461B8  80 1E 00 88 */	lwz r0, 0x88(r30)
/* 803495DC 003461BC  90 05 00 08 */	stw r0, 8(r5)
/* 803495E0 003461C0  80 1E 00 8C */	lwz r0, 0x8c(r30)
/* 803495E4 003461C4  90 05 00 0C */	stw r0, 0xc(r5)
/* 803495E8 003461C8  80 1E 00 90 */	lwz r0, 0x90(r30)
/* 803495EC 003461CC  90 05 00 10 */	stw r0, 0x10(r5)
/* 803495F0 003461D0  80 1E 00 94 */	lwz r0, 0x94(r30)
/* 803495F4 003461D4  90 05 00 14 */	stw r0, 0x14(r5)
/* 803495F8 003461D8  80 1E 00 98 */	lwz r0, 0x98(r30)
/* 803495FC 003461DC  90 05 00 18 */	stw r0, 0x18(r5)
/* 80349600 003461E0  80 1E 00 9C */	lwz r0, 0x9c(r30)
/* 80349604 003461E4  3B DE 00 20 */	addi r30, r30, 0x20
/* 80349608 003461E8  90 05 00 1C */	stw r0, 0x1c(r5)
/* 8034960C 003461EC  38 A5 00 20 */	addi r5, r5, 0x20
/* 80349610 003461F0  42 00 FF B4 */	bdnz lbl_803495C4
/* 80349614 003461F4  48 00 01 CC */	b lbl_803497E0
lbl_80349618:
/* 80349618 003461F8  7C 04 38 50 */	subf r0, r4, r7
/* 8034961C 003461FC  7C 04 38 40 */	cmplw r4, r7
/* 80349620 00346200  7C 09 03 A6 */	mtctr r0
/* 80349624 00346204  40 80 00 1C */	bge lbl_80349640
lbl_80349628:
/* 80349628 00346208  80 03 00 80 */	lwz r0, 0x80(r3)
/* 8034962C 0034620C  38 63 00 04 */	addi r3, r3, 4
/* 80349630 00346210  38 84 00 01 */	addi r4, r4, 1
/* 80349634 00346214  90 05 00 00 */	stw r0, 0(r5)
/* 80349638 00346218  38 A5 00 04 */	addi r5, r5, 4
/* 8034963C 0034621C  42 00 FF EC */	bdnz lbl_80349628
lbl_80349640:
/* 80349640 00346220  80 06 00 00 */	lwz r0, 0(r6)
/* 80349644 00346224  54 03 07 BF */	clrlwi. r3, r0, 0x1e
/* 80349648 00346228  41 82 01 10 */	beq lbl_80349758
/* 8034964C 0034622C  3C C0 CC 00 */	lis r6, 0xCC006400@ha
/* 80349650 00346230  38 C6 64 00 */	addi r6, r6, 0xCC006400@l
/* 80349654 00346234  54 80 10 3A */	slwi r0, r4, 2
/* 80349658 00346238  7C 86 02 14 */	add r4, r6, r0
/* 8034965C 0034623C  80 C4 00 80 */	lwz r6, 0x80(r4)
/* 80349660 00346240  38 80 00 00 */	li r4, 0
/* 80349664 00346244  40 81 00 F4 */	ble lbl_80349758
/* 80349668 00346248  28 03 00 08 */	cmplwi r3, 8
/* 8034966C 0034624C  38 E3 FF F8 */	addi r7, r3, -8
/* 80349670 00346250  40 81 00 BC */	ble lbl_8034972C
/* 80349674 00346254  38 07 00 07 */	addi r0, r7, 7
/* 80349678 00346258  54 00 E8 FE */	srwi r0, r0, 3
/* 8034967C 0034625C  28 07 00 00 */	cmplwi r7, 0
/* 80349680 00346260  7C 09 03 A6 */	mtctr r0
/* 80349684 00346264  40 81 00 A8 */	ble lbl_8034972C
lbl_80349688:
/* 80349688 00346268  20 04 00 03 */	subfic r0, r4, 3
/* 8034968C 0034626C  54 07 18 38 */	slwi r7, r0, 3
/* 80349690 00346270  38 04 00 01 */	addi r0, r4, 1
/* 80349694 00346274  7C C7 3C 30 */	srw r7, r6, r7
/* 80349698 00346278  20 00 00 03 */	subfic r0, r0, 3
/* 8034969C 0034627C  98 E5 00 00 */	stb r7, 0(r5)
/* 803496A0 00346280  54 00 18 38 */	slwi r0, r0, 3
/* 803496A4 00346284  38 E4 00 02 */	addi r7, r4, 2
/* 803496A8 00346288  7C C0 04 30 */	srw r0, r6, r0
/* 803496AC 0034628C  20 E7 00 03 */	subfic r7, r7, 3
/* 803496B0 00346290  98 05 00 01 */	stb r0, 1(r5)
/* 803496B4 00346294  54 E7 18 38 */	slwi r7, r7, 3
/* 803496B8 00346298  7C CC 3C 30 */	srw r12, r6, r7
/* 803496BC 0034629C  7C E4 00 D0 */	neg r7, r4
/* 803496C0 003462A0  99 85 00 02 */	stb r12, 2(r5)
/* 803496C4 003462A4  54 E8 18 38 */	slwi r8, r7, 3
/* 803496C8 003462A8  38 E4 00 04 */	addi r7, r4, 4
/* 803496CC 003462AC  7C CB 44 30 */	srw r11, r6, r8
/* 803496D0 003462B0  20 E7 00 03 */	subfic r7, r7, 3
/* 803496D4 003462B4  99 65 00 03 */	stb r11, 3(r5)
/* 803496D8 003462B8  54 E8 18 38 */	slwi r8, r7, 3
/* 803496DC 003462BC  38 E4 00 05 */	addi r7, r4, 5
/* 803496E0 003462C0  7C CA 44 30 */	srw r10, r6, r8
/* 803496E4 003462C4  20 E7 00 03 */	subfic r7, r7, 3
/* 803496E8 003462C8  99 45 00 04 */	stb r10, 4(r5)
/* 803496EC 003462CC  54 E8 18 38 */	slwi r8, r7, 3
/* 803496F0 003462D0  7C C9 44 30 */	srw r9, r6, r8
/* 803496F4 003462D4  38 E4 00 06 */	addi r7, r4, 6
/* 803496F8 003462D8  99 25 00 05 */	stb r9, 5(r5)
/* 803496FC 003462DC  21 07 00 03 */	subfic r8, r7, 3
/* 80349700 003462E0  38 E4 00 07 */	addi r7, r4, 7
/* 80349704 003462E4  55 08 18 38 */	slwi r8, r8, 3
/* 80349708 003462E8  7C C8 44 30 */	srw r8, r6, r8
/* 8034970C 003462EC  20 E7 00 03 */	subfic r7, r7, 3
/* 80349710 003462F0  99 05 00 06 */	stb r8, 6(r5)
/* 80349714 003462F4  54 E7 18 38 */	slwi r7, r7, 3
/* 80349718 003462F8  7C C7 3C 30 */	srw r7, r6, r7
/* 8034971C 003462FC  98 E5 00 07 */	stb r7, 7(r5)
/* 80349720 00346300  38 A5 00 08 */	addi r5, r5, 8
/* 80349724 00346304  38 84 00 08 */	addi r4, r4, 8
/* 80349728 00346308  42 00 FF 60 */	bdnz lbl_80349688
lbl_8034972C:
/* 8034972C 0034630C  7C 04 18 50 */	subf r0, r4, r3
/* 80349730 00346310  7C 04 18 40 */	cmplw r4, r3
/* 80349734 00346314  7C 09 03 A6 */	mtctr r0
/* 80349738 00346318  40 80 00 20 */	bge lbl_80349758
lbl_8034973C:
/* 8034973C 0034631C  20 04 00 03 */	subfic r0, r4, 3
/* 80349740 00346320  54 00 18 38 */	slwi r0, r0, 3
/* 80349744 00346324  7C C0 04 30 */	srw r0, r6, r0
/* 80349748 00346328  98 05 00 00 */	stb r0, 0(r5)
/* 8034974C 0034632C  38 A5 00 01 */	addi r5, r5, 1
/* 80349750 00346330  38 84 00 01 */	addi r4, r4, 1
/* 80349754 00346334  42 00 FF E8 */	bdnz lbl_8034973C
lbl_80349758:
/* 80349758 00346338  80 1D 00 00 */	lwz r0, 0(r29)
/* 8034975C 0034633C  54 00 00 85 */	rlwinm. r0, r0, 0, 2, 2
/* 80349760 00346340  41 82 00 4C */	beq lbl_803497AC
/* 80349764 00346344  80 7F 00 00 */	lwz r3, 0(r31)
/* 80349768 00346348  20 03 00 03 */	subfic r0, r3, 3
/* 8034976C 0034634C  54 00 18 38 */	slwi r0, r0, 3
/* 80349770 00346350  7F 9C 04 30 */	srw r28, r28, r0
/* 80349774 00346354  57 9C 07 3E */	clrlwi r28, r28, 0x1c
/* 80349778 00346358  57 80 07 39 */	rlwinm. r0, r28, 0, 0x1c, 0x1c
/* 8034977C 0034635C  41 82 00 20 */	beq lbl_8034979C
/* 80349780 00346360  54 60 10 3A */	slwi r0, r3, 2
/* 80349784 00346364  7C 7F 02 14 */	add r3, r31, r0
/* 80349788 00346368  84 03 00 14 */	lwzu r0, 0x14(r3)
/* 8034978C 0034636C  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80349790 00346370  40 82 00 0C */	bne lbl_8034979C
/* 80349794 00346374  38 00 00 08 */	li r0, 8
/* 80349798 00346378  90 03 00 00 */	stw r0, 0(r3)
lbl_8034979C:
/* 8034979C 0034637C  28 1C 00 00 */	cmplwi r28, 0
/* 803497A0 00346380  40 82 00 30 */	bne lbl_803497D0
/* 803497A4 00346384  3B 80 00 04 */	li r28, 4
/* 803497A8 00346388  48 00 00 28 */	b lbl_803497D0
lbl_803497AC:
/* 803497AC 0034638C  48 00 2C 65 */	bl __OSGetSystemTime
/* 803497B0 00346390  80 DF 00 00 */	lwz r6, 0(r31)
/* 803497B4 00346394  3C A0 80 4A */	lis r5, lbl_804A7ED8@ha
/* 803497B8 00346398  38 05 7E D8 */	addi r0, r5, lbl_804A7ED8@l
/* 803497BC 0034639C  54 C5 18 38 */	slwi r5, r6, 3
/* 803497C0 003463A0  7C A0 2A 14 */	add r5, r0, r5
/* 803497C4 003463A4  90 85 00 04 */	stw r4, 4(r5)
/* 803497C8 003463A8  3B 80 00 00 */	li r28, 0
/* 803497CC 003463AC  90 65 00 00 */	stw r3, 0(r5)
lbl_803497D0:
/* 803497D0 003463B0  38 00 FF FF */	li r0, -1
/* 803497D4 003463B4  90 1F 00 00 */	stw r0, 0(r31)
lbl_803497D8:
/* 803497D8 003463B8  7F 83 E3 78 */	mr r3, r28
/* 803497DC 003463BC  48 00 00 18 */	b lbl_803497F4
lbl_803497E0:
/* 803497E0 003463C0  3C 60 CC 00 */	lis r3, 0xCC006400@ha
/* 803497E4 003463C4  54 80 10 3A */	slwi r0, r4, 2
/* 803497E8 003463C8  38 63 64 00 */	addi r3, r3, 0xCC006400@l
/* 803497EC 003463CC  7C 63 02 14 */	add r3, r3, r0
/* 803497F0 003463D0  4B FF FE 28 */	b lbl_80349618
lbl_803497F4:
/* 803497F4 003463D4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803497F8 003463D8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803497FC 003463DC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80349800 003463E0  7C 08 03 A6 */	mtlr r0
/* 80349804 003463E4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80349808 003463E8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8034980C 003463EC  38 21 00 20 */	addi r1, r1, 0x20
/* 80349810 003463F0  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t GetTypeCallback();
extern unk_t lbl_804D73C8;
extern unk_t SIGetResponseRaw();
extern unk_t VIGetCurrentLine();
extern unk_t SITransfer();
extern unk_t OSCancelAlarm();
extern unk_t __SITransfer();

#pragma push
asm unk_t SIInterruptHandler()
{ // clang-format off
    nofralloc
/* 80349814 003463F4  7C 08 02 A6 */	mflr r0
/* 80349818 003463F8  3C A0 CC 00 */	lis r5, 0xCC006434@ha
/* 8034981C 003463FC  90 01 00 04 */	stw r0, 4(r1)
/* 80349820 00346400  3C E0 80 4A */	lis r7, Packet@ha
/* 80349824 00346404  3C C0 80 40 */	lis r6, lbl_80402358@ha
/* 80349828 00346408  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 8034982C 0034640C  BE A1 00 1C */	stmw r21, 0x1c(r1)
/* 80349830 00346410  3B C3 00 00 */	addi r30, r3, 0
/* 80349834 00346414  3B E4 00 00 */	addi r31, r4, 0
/* 80349838 00346418  3B 87 7D B8 */	addi r28, r7, Packet@l
/* 8034983C 0034641C  3B A6 23 58 */	addi r29, r6, lbl_80402358@l
/* 80349840 00346420  83 05 64 34 */	lwz r24, 0xCC006434@l(r5)
/* 80349844 00346424  57 05 00 02 */	rlwinm r5, r24, 0, 0, 1
/* 80349848 00346428  3C 05 40 00 */	addis r0, r5, 0x4000
/* 8034984C 0034642C  28 00 00 00 */	cmplwi r0, 0
/* 80349850 00346430  40 82 01 84 */	bne lbl_803499D4
/* 80349854 00346434  82 FD 00 00 */	lwz r23, 0(r29)
/* 80349858 00346438  4B FF FC C1 */	bl CompleteTransfer
/* 8034985C 0034643C  82 BD 00 10 */	lwz r21, 0x10(r29)
/* 80349860 00346440  3B 60 00 00 */	li r27, 0
/* 80349864 00346444  3A C3 00 00 */	addi r22, r3, 0
/* 80349868 00346448  93 7D 00 10 */	stw r27, 0x10(r29)
/* 8034986C 0034644C  3B 57 00 00 */	addi r26, r23, 0
lbl_80349870:
/* 80349870 00346450  3B 5A 00 01 */	addi r26, r26, 1
/* 80349874 00346454  7F 40 16 70 */	srawi r0, r26, 2
/* 80349878 00346458  7C 00 01 94 */	addze r0, r0
/* 8034987C 0034645C  54 00 10 3A */	slwi r0, r0, 2
/* 80349880 00346460  7C 00 D0 10 */	subfc r0, r0, r26
/* 80349884 00346464  7C 1A 03 78 */	mr r26, r0
/* 80349888 00346468  54 00 28 34 */	slwi r0, r0, 5
/* 8034988C 0034646C  7F 3C 02 14 */	add r25, r28, r0
/* 80349890 00346470  80 19 00 00 */	lwz r0, 0(r25)
/* 80349894 00346474  2C 00 FF FF */	cmpwi r0, -1
/* 80349898 00346478  41 82 00 6C */	beq lbl_80349904
/* 8034989C 0034647C  48 00 2B 75 */	bl __OSGetSystemTime
/* 803498A0 00346480  80 19 00 18 */	lwz r0, 0x18(r25)
/* 803498A4 00346484  6C 65 80 00 */	xoris r5, r3, 0x8000
/* 803498A8 00346488  80 D9 00 1C */	lwz r6, 0x1c(r25)
/* 803498AC 0034648C  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 803498B0 00346490  7C 06 20 10 */	subfc r0, r6, r4
/* 803498B4 00346494  7C 63 29 10 */	subfe r3, r3, r5
/* 803498B8 00346498  7C 65 29 10 */	subfe r3, r5, r5
/* 803498BC 0034649C  7C 63 00 D1 */	neg. r3, r3
/* 803498C0 003464A0  40 82 00 44 */	bne lbl_80349904
/* 803498C4 003464A4  80 79 00 00 */	lwz r3, 0(r25)
/* 803498C8 003464A8  80 99 00 04 */	lwz r4, 4(r25)
/* 803498CC 003464AC  80 B9 00 08 */	lwz r5, 8(r25)
/* 803498D0 003464B0  80 D9 00 0C */	lwz r6, 0xc(r25)
/* 803498D4 003464B4  80 F9 00 10 */	lwz r7, 0x10(r25)
/* 803498D8 003464B8  81 19 00 14 */	lwz r8, 0x14(r25)
/* 803498DC 003464BC  48 00 05 69 */	bl __SITransfer
/* 803498E0 003464C0  2C 03 00 00 */	cmpwi r3, 0
/* 803498E4 003464C4  41 82 00 2C */	beq lbl_80349910
/* 803498E8 003464C8  1C 1A 00 28 */	mulli r0, r26, 0x28
/* 803498EC 003464CC  7C 7C 02 14 */	add r3, r28, r0
/* 803498F0 003464D0  38 63 00 80 */	addi r3, r3, 0x80
/* 803498F4 003464D4  4B FF A1 B9 */	bl OSCancelAlarm
/* 803498F8 003464D8  38 00 FF FF */	li r0, -1
/* 803498FC 003464DC  90 19 00 00 */	stw r0, 0(r25)
/* 80349900 003464E0  48 00 00 10 */	b lbl_80349910
lbl_80349904:
/* 80349904 003464E4  3B 7B 00 01 */	addi r27, r27, 1
/* 80349908 003464E8  2C 1B 00 04 */	cmpwi r27, 4
/* 8034990C 003464EC  41 80 FF 64 */	blt lbl_80349870
lbl_80349910:
/* 80349910 003464F0  28 15 00 00 */	cmplwi r21, 0
/* 80349914 003464F4  41 82 00 1C */	beq lbl_80349930
/* 80349918 003464F8  39 95 00 00 */	addi r12, r21, 0
/* 8034991C 003464FC  7D 88 03 A6 */	mtlr r12
/* 80349920 00346500  38 77 00 00 */	addi r3, r23, 0
/* 80349924 00346504  38 96 00 00 */	addi r4, r22, 0
/* 80349928 00346508  38 BF 00 00 */	addi r5, r31, 0
/* 8034992C 0034650C  4E 80 00 21 */	blrl 
lbl_80349930:
/* 80349930 00346510  3C 60 CC 00 */	lis r3, 0xCC006400@ha
/* 80349934 00346514  38 83 64 00 */	addi r4, r3, 0xCC006400@l
/* 80349938 00346518  80 A3 64 38 */	lwz r5, 0x6438(r3)
/* 8034993C 0034651C  56 E0 18 38 */	slwi r0, r23, 3
/* 80349940 00346520  3C 60 0F 00 */	lis r3, 0xf00
/* 80349944 00346524  7C 60 06 30 */	sraw r0, r3, r0
/* 80349948 00346528  7C A5 00 38 */	and r5, r5, r0
/* 8034994C 0034652C  56 E0 10 3A */	slwi r0, r23, 2
/* 80349950 00346530  90 A4 00 38 */	stw r5, 0x38(r4)
/* 80349954 00346534  7C DD 02 14 */	add r6, r29, r0
/* 80349958 00346538  84 06 00 14 */	lwzu r0, 0x14(r6)
/* 8034995C 0034653C  28 00 00 80 */	cmplwi r0, 0x80
/* 80349960 00346540  40 82 00 74 */	bne lbl_803499D4
/* 80349964 00346544  56 E0 28 34 */	slwi r0, r23, 5
/* 80349968 00346548  7C 1C 00 2E */	lwzx r0, r28, r0
/* 8034996C 0034654C  38 60 00 01 */	li r3, 1
/* 80349970 00346550  2C 00 FF FF */	cmpwi r0, -1
/* 80349974 00346554  40 82 00 14 */	bne lbl_80349988
/* 80349978 00346558  80 1D 00 00 */	lwz r0, 0(r29)
/* 8034997C 0034655C  7C 00 B8 00 */	cmpw r0, r23
/* 80349980 00346560  41 82 00 08 */	beq lbl_80349988
/* 80349984 00346564  38 60 00 00 */	li r3, 0
lbl_80349988:
/* 80349988 00346568  2C 03 00 00 */	cmpwi r3, 0
/* 8034998C 0034656C  40 82 00 48 */	bne lbl_803499D4
/* 80349990 00346570  3C 60 80 00 */	lis r3, 0x800000F8@ha
/* 80349994 00346574  80 03 00 F8 */	lwz r0, 0x800000F8@l(r3)
/* 80349998 00346578  3C 60 43 1C */	lis r3, 0x431BDE83@ha
/* 8034999C 0034657C  3C 80 80 35 */	lis r4, GetTypeCallback@ha
/* 803499A0 00346580  54 00 F0 BE */	srwi r0, r0, 2
/* 803499A4 00346584  38 63 DE 83 */	addi r3, r3, 0x431BDE83@l
/* 803499A8 00346588  7C 03 00 16 */	mulhwu r0, r3, r0
/* 803499AC 0034658C  54 00 8B FE */	srwi r0, r0, 0xf
/* 803499B0 00346590  1C 00 00 41 */	mulli r0, r0, 0x41
/* 803499B4 00346594  39 04 A5 E8 */	addi r8, r4, GetTypeCallback@l
/* 803499B8 00346598  54 0A E8 FE */	srwi r10, r0, 3
/* 803499BC 0034659C  38 77 00 00 */	addi r3, r23, 0
/* 803499C0 003465A0  38 8D BD 28 */	addi r4, r13, lbl_804D73C8
/* 803499C4 003465A4  38 A0 00 01 */	li r5, 1
/* 803499C8 003465A8  38 E0 00 03 */	li r7, 3
/* 803499CC 003465AC  39 20 00 00 */	li r9, 0
/* 803499D0 003465B0  48 00 0A AD */	bl SITransfer
lbl_803499D4:
/* 803499D4 003465B4  57 03 00 C8 */	rlwinm r3, r24, 0, 3, 4
/* 803499D8 003465B8  3C 03 E8 00 */	addis r0, r3, 0xe800
/* 803499DC 003465BC  28 00 00 00 */	cmplwi r0, 0
/* 803499E0 003465C0  40 82 01 64 */	bne lbl_80349B44
/* 803499E4 003465C4  48 00 68 B1 */	bl VIGetCurrentLine
/* 803499E8 003465C8  80 1D 00 04 */	lwz r0, 4(r29)
/* 803499EC 003465CC  3A FC 01 E0 */	addi r23, r28, 0x1e0
/* 803499F0 003465D0  3B 1D 00 04 */	addi r24, r29, 4
/* 803499F4 003465D4  3A D7 00 00 */	addi r22, r23, 0
/* 803499F8 003465D8  3A A3 00 01 */	addi r21, r3, 1
/* 803499FC 003465DC  54 1A 85 BE */	rlwinm r26, r0, 0x10, 0x16, 0x1f
/* 80349A00 003465E0  3B 20 00 00 */	li r25, 0
lbl_80349A04:
/* 80349A04 003465E4  7F 23 CB 78 */	mr r3, r25
/* 80349A08 003465E8  48 00 08 51 */	bl SIGetResponseRaw
/* 80349A0C 003465EC  2C 03 00 00 */	cmpwi r3, 0
/* 80349A10 003465F0  41 82 00 08 */	beq lbl_80349A18
/* 80349A14 003465F4  92 B6 00 00 */	stw r21, 0(r22)
lbl_80349A18:
/* 80349A18 003465F8  3B 39 00 01 */	addi r25, r25, 1
/* 80349A1C 003465FC  2C 19 00 04 */	cmpwi r25, 4
/* 80349A20 00346600  3A D6 00 04 */	addi r22, r22, 4
/* 80349A24 00346604  41 80 FF E0 */	blt lbl_80349A04
/* 80349A28 00346608  80 B8 00 00 */	lwz r5, 0(r24)
/* 80349A2C 0034660C  3C 60 80 00 */	lis r3, 0x8000
/* 80349A30 00346610  38 00 00 18 */	li r0, 0x18
/* 80349A34 00346614  7C 60 04 30 */	srw r0, r3, r0
/* 80349A38 00346618  7C A0 00 39 */	and. r0, r5, r0
/* 80349A3C 0034661C  57 46 F8 7E */	srwi r6, r26, 1
/* 80349A40 00346620  41 82 00 24 */	beq lbl_80349A64
/* 80349A44 00346624  80 17 00 00 */	lwz r0, 0(r23)
/* 80349A48 00346628  28 00 00 00 */	cmplwi r0, 0
/* 80349A4C 0034662C  41 82 00 F8 */	beq lbl_80349B44
/* 80349A50 00346630  80 17 00 00 */	lwz r0, 0(r23)
/* 80349A54 00346634  7C 06 02 14 */	add r0, r6, r0
/* 80349A58 00346638  7C 00 A8 40 */	cmplw r0, r21
/* 80349A5C 0034663C  40 80 00 08 */	bge lbl_80349A64
/* 80349A60 00346640  48 00 00 E4 */	b lbl_80349B44
lbl_80349A64:
/* 80349A64 00346644  38 00 00 19 */	li r0, 0x19
/* 80349A68 00346648  7C 60 04 30 */	srw r0, r3, r0
/* 80349A6C 0034664C  7C A0 00 39 */	and. r0, r5, r0
/* 80349A70 00346650  38 97 00 04 */	addi r4, r23, 4
/* 80349A74 00346654  41 82 00 24 */	beq lbl_80349A98
/* 80349A78 00346658  80 04 00 00 */	lwz r0, 0(r4)
/* 80349A7C 0034665C  28 00 00 00 */	cmplwi r0, 0
/* 80349A80 00346660  41 82 00 C4 */	beq lbl_80349B44
/* 80349A84 00346664  80 04 00 00 */	lwz r0, 0(r4)
/* 80349A88 00346668  7C 06 02 14 */	add r0, r6, r0
/* 80349A8C 0034666C  7C 00 A8 40 */	cmplw r0, r21
/* 80349A90 00346670  40 80 00 08 */	bge lbl_80349A98
/* 80349A94 00346674  48 00 00 B0 */	b lbl_80349B44
lbl_80349A98:
/* 80349A98 00346678  38 00 00 1A */	li r0, 0x1a
/* 80349A9C 0034667C  7C 60 04 30 */	srw r0, r3, r0
/* 80349AA0 00346680  7C A0 00 39 */	and. r0, r5, r0
/* 80349AA4 00346684  38 84 00 04 */	addi r4, r4, 4
/* 80349AA8 00346688  41 82 00 24 */	beq lbl_80349ACC
/* 80349AAC 0034668C  80 04 00 00 */	lwz r0, 0(r4)
/* 80349AB0 00346690  28 00 00 00 */	cmplwi r0, 0
/* 80349AB4 00346694  41 82 00 90 */	beq lbl_80349B44
/* 80349AB8 00346698  80 04 00 00 */	lwz r0, 0(r4)
/* 80349ABC 0034669C  7C 06 02 14 */	add r0, r6, r0
/* 80349AC0 003466A0  7C 00 A8 40 */	cmplw r0, r21
/* 80349AC4 003466A4  40 80 00 08 */	bge lbl_80349ACC
/* 80349AC8 003466A8  48 00 00 7C */	b lbl_80349B44
lbl_80349ACC:
/* 80349ACC 003466AC  38 00 00 1B */	li r0, 0x1b
/* 80349AD0 003466B0  7C 60 04 30 */	srw r0, r3, r0
/* 80349AD4 003466B4  7C A0 00 39 */	and. r0, r5, r0
/* 80349AD8 003466B8  38 84 00 04 */	addi r4, r4, 4
/* 80349ADC 003466BC  41 82 00 24 */	beq lbl_80349B00
/* 80349AE0 003466C0  80 04 00 00 */	lwz r0, 0(r4)
/* 80349AE4 003466C4  28 00 00 00 */	cmplwi r0, 0
/* 80349AE8 003466C8  41 82 00 5C */	beq lbl_80349B44
/* 80349AEC 003466CC  80 04 00 00 */	lwz r0, 0(r4)
/* 80349AF0 003466D0  7C 06 02 14 */	add r0, r6, r0
/* 80349AF4 003466D4  7C 00 A8 40 */	cmplw r0, r21
/* 80349AF8 003466D8  40 80 00 08 */	bge lbl_80349B00
/* 80349AFC 003466DC  48 00 00 48 */	b lbl_80349B44
lbl_80349B00:
/* 80349B00 003466E0  3A C0 00 00 */	li r22, 0
/* 80349B04 003466E4  92 D7 00 00 */	stw r22, 0(r23)
/* 80349B08 003466E8  3A BC 01 A0 */	addi r21, r28, 0x1a0
/* 80349B0C 003466EC  92 DC 01 E4 */	stw r22, 0x1e4(r28)
/* 80349B10 003466F0  92 DC 01 E8 */	stw r22, 0x1e8(r28)
/* 80349B14 003466F4  92 DC 01 EC */	stw r22, 0x1ec(r28)
lbl_80349B18:
/* 80349B18 003466F8  81 95 00 00 */	lwz r12, 0(r21)
/* 80349B1C 003466FC  28 0C 00 00 */	cmplwi r12, 0
/* 80349B20 00346700  41 82 00 14 */	beq lbl_80349B34
/* 80349B24 00346704  7D 88 03 A6 */	mtlr r12
/* 80349B28 00346708  38 7E 00 00 */	addi r3, r30, 0
/* 80349B2C 0034670C  38 9F 00 00 */	addi r4, r31, 0
/* 80349B30 00346710  4E 80 00 21 */	blrl 
lbl_80349B34:
/* 80349B34 00346714  3A D6 00 01 */	addi r22, r22, 1
/* 80349B38 00346718  2C 16 00 04 */	cmpwi r22, 4
/* 80349B3C 0034671C  3A B5 00 04 */	addi r21, r21, 4
/* 80349B40 00346720  41 80 FF D8 */	blt lbl_80349B18
lbl_80349B44:
/* 80349B44 00346724  BA A1 00 1C */	lmw r21, 0x1c(r1)
/* 80349B48 00346728  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 80349B4C 0034672C  38 21 00 48 */	addi r1, r1, 0x48
/* 80349B50 00346730  7C 08 03 A6 */	mtlr r0
/* 80349B54 00346734  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm unk_t SIEnablePollingInterrupt()
{ // clang-format off
    nofralloc
/* 80349B58 00346738  7C 08 02 A6 */	mflr r0
/* 80349B5C 0034673C  3C 80 80 4A */	lis r4, Packet@ha
/* 80349B60 00346740  90 01 00 04 */	stw r0, 4(r1)
/* 80349B64 00346744  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80349B68 00346748  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80349B6C 0034674C  3B E4 7D B8 */	addi r31, r4, Packet@l
/* 80349B70 00346750  93 C1 00 28 */	stw r30, 0x28(r1)
/* 80349B74 00346754  93 A1 00 24 */	stw r29, 0x24(r1)
/* 80349B78 00346758  3B A3 00 00 */	addi r29, r3, 0
/* 80349B7C 0034675C  4B FF D7 E9 */	bl OSDisableInterrupts
/* 80349B80 00346760  3C 80 CC 00 */	lis r4, 0xCC006434@h
/* 80349B84 00346764  84 A4 64 34 */	lwzu r5, 0xCC006434@l(r4)
/* 80349B88 00346768  54 A0 01 09 */	rlwinm. r0, r5, 0, 4, 4
/* 80349B8C 0034676C  41 82 00 0C */	beq lbl_80349B98
/* 80349B90 00346770  3B C0 00 01 */	li r30, 1
/* 80349B94 00346774  48 00 00 08 */	b lbl_80349B9C
lbl_80349B98:
/* 80349B98 00346778  3B C0 00 00 */	li r30, 0
lbl_80349B9C:
/* 80349B9C 0034677C  2C 1D 00 00 */	cmpwi r29, 0
/* 80349BA0 00346780  41 82 00 20 */	beq lbl_80349BC0
/* 80349BA4 00346784  38 00 00 00 */	li r0, 0
/* 80349BA8 00346788  90 1F 01 E0 */	stw r0, 0x1e0(r31)
/* 80349BAC 0034678C  64 A5 08 00 */	oris r5, r5, 0x800
/* 80349BB0 00346790  90 1F 01 E4 */	stw r0, 0x1e4(r31)
/* 80349BB4 00346794  90 1F 01 E8 */	stw r0, 0x1e8(r31)
/* 80349BB8 00346798  90 1F 01 EC */	stw r0, 0x1ec(r31)
/* 80349BBC 0034679C  48 00 00 08 */	b lbl_80349BC4
lbl_80349BC0:
/* 80349BC0 003467A0  54 A5 01 46 */	rlwinm r5, r5, 0, 5, 3
lbl_80349BC4:
/* 80349BC4 003467A4  54 A5 00 7C */	rlwinm r5, r5, 0, 1, 0x1e
/* 80349BC8 003467A8  90 A4 00 00 */	stw r5, 0(r4)
/* 80349BCC 003467AC  4B FF D7 C1 */	bl OSRestoreInterrupts
/* 80349BD0 003467B0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80349BD4 003467B4  7F C3 F3 78 */	mr r3, r30
/* 80349BD8 003467B8  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80349BDC 003467BC  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80349BE0 003467C0  7C 08 03 A6 */	mtlr r0
/* 80349BE4 003467C4  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80349BE8 003467C8  38 21 00 30 */	addi r1, r1, 0x30
/* 80349BEC 003467CC  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t lbl_804A7F58;

#pragma push
asm unk_t SIRegisterPollingHandler()
{ // clang-format off
    nofralloc
/* 80349BF0 003467D0  7C 08 02 A6 */	mflr r0
/* 80349BF4 003467D4  90 01 00 04 */	stw r0, 4(r1)
/* 80349BF8 003467D8  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80349BFC 003467DC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80349C00 003467E0  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80349C04 003467E4  7C 7E 1B 78 */	mr r30, r3
/* 80349C08 003467E8  4B FF D7 5D */	bl OSDisableInterrupts
/* 80349C0C 003467EC  3C 80 80 4A */	lis r4, lbl_804A7F58@ha
/* 80349C10 003467F0  38 00 00 04 */	li r0, 4
/* 80349C14 003467F4  38 84 7F 58 */	addi r4, r4, lbl_804A7F58@l
/* 80349C18 003467F8  7C 09 03 A6 */	mtctr r0
/* 80349C1C 003467FC  3B E3 00 00 */	addi r31, r3, 0
/* 80349C20 00346800  38 64 00 00 */	addi r3, r4, 0
lbl_80349C24:
/* 80349C24 00346804  80 03 00 00 */	lwz r0, 0(r3)
/* 80349C28 00346808  7C 00 F0 40 */	cmplw r0, r30
/* 80349C2C 0034680C  40 82 00 14 */	bne lbl_80349C40
/* 80349C30 00346810  7F E3 FB 78 */	mr r3, r31
/* 80349C34 00346814  4B FF D7 59 */	bl OSRestoreInterrupts
/* 80349C38 00346818  38 60 00 01 */	li r3, 1
/* 80349C3C 0034681C  48 00 00 68 */	b lbl_80349CA4
lbl_80349C40:
/* 80349C40 00346820  38 63 00 04 */	addi r3, r3, 4
/* 80349C44 00346824  42 00 FF E0 */	bdnz lbl_80349C24
/* 80349C48 00346828  38 00 00 04 */	li r0, 4
/* 80349C4C 0034682C  7C 09 03 A6 */	mtctr r0
/* 80349C50 00346830  38 A0 00 00 */	li r5, 0
lbl_80349C54:
/* 80349C54 00346834  80 04 00 00 */	lwz r0, 0(r4)
/* 80349C58 00346838  28 00 00 00 */	cmplwi r0, 0
/* 80349C5C 0034683C  40 82 00 30 */	bne lbl_80349C8C
/* 80349C60 00346840  3C 60 80 4A */	lis r3, lbl_804A7F58@ha
/* 80349C64 00346844  54 A4 10 3A */	slwi r4, r5, 2
/* 80349C68 00346848  38 03 7F 58 */	addi r0, r3, lbl_804A7F58@l
/* 80349C6C 0034684C  7C 60 22 14 */	add r3, r0, r4
/* 80349C70 00346850  93 C3 00 00 */	stw r30, 0(r3)
/* 80349C74 00346854  38 60 00 01 */	li r3, 1
/* 80349C78 00346858  4B FF FE E1 */	bl SIEnablePollingInterrupt
/* 80349C7C 0034685C  7F E3 FB 78 */	mr r3, r31
/* 80349C80 00346860  4B FF D7 0D */	bl OSRestoreInterrupts
/* 80349C84 00346864  38 60 00 01 */	li r3, 1
/* 80349C88 00346868  48 00 00 1C */	b lbl_80349CA4
lbl_80349C8C:
/* 80349C8C 0034686C  38 84 00 04 */	addi r4, r4, 4
/* 80349C90 00346870  38 A5 00 01 */	addi r5, r5, 1
/* 80349C94 00346874  42 00 FF C0 */	bdnz lbl_80349C54
/* 80349C98 00346878  7F E3 FB 78 */	mr r3, r31
/* 80349C9C 0034687C  4B FF D6 F1 */	bl OSRestoreInterrupts
/* 80349CA0 00346880  38 60 00 00 */	li r3, 0
lbl_80349CA4:
/* 80349CA4 00346884  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80349CA8 00346888  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80349CAC 0034688C  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80349CB0 00346890  7C 08 03 A6 */	mtlr r0
/* 80349CB4 00346894  38 21 00 18 */	addi r1, r1, 0x18
/* 80349CB8 00346898  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

#pragma push
asm unk_t SIUnregisterPollingHandler()
{ // clang-format off
    nofralloc
/* 80349CBC 0034689C  7C 08 02 A6 */	mflr r0
/* 80349CC0 003468A0  90 01 00 04 */	stw r0, 4(r1)
/* 80349CC4 003468A4  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80349CC8 003468A8  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80349CCC 003468AC  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80349CD0 003468B0  7C 7E 1B 78 */	mr r30, r3
/* 80349CD4 003468B4  4B FF D6 91 */	bl OSDisableInterrupts
/* 80349CD8 003468B8  3C 80 80 4A */	lis r4, lbl_804A7F58@ha
/* 80349CDC 003468BC  38 00 00 04 */	li r0, 4
/* 80349CE0 003468C0  38 A4 7F 58 */	addi r5, r4, lbl_804A7F58@l
/* 80349CE4 003468C4  7C 09 03 A6 */	mtctr r0
/* 80349CE8 003468C8  3B E3 00 00 */	addi r31, r3, 0
/* 80349CEC 003468CC  38 65 00 00 */	addi r3, r5, 0
/* 80349CF0 003468D0  38 80 00 00 */	li r4, 0
lbl_80349CF4:
/* 80349CF4 003468D4  80 03 00 00 */	lwz r0, 0(r3)
/* 80349CF8 003468D8  7C 00 F0 40 */	cmplw r0, r30
/* 80349CFC 003468DC  40 82 00 84 */	bne lbl_80349D80
/* 80349D00 003468E0  3C 60 80 4A */	lis r3, lbl_804A7F58@ha
/* 80349D04 003468E4  54 84 10 3A */	slwi r4, r4, 2
/* 80349D08 003468E8  38 03 7F 58 */	addi r0, r3, lbl_804A7F58@l
/* 80349D0C 003468EC  7C 60 22 14 */	add r3, r0, r4
/* 80349D10 003468F0  38 00 00 00 */	li r0, 0
/* 80349D14 003468F4  90 03 00 00 */	stw r0, 0(r3)
/* 80349D18 003468F8  38 80 00 00 */	li r4, 0
/* 80349D1C 003468FC  80 05 00 00 */	lwz r0, 0(r5)
/* 80349D20 00346900  28 00 00 00 */	cmplwi r0, 0
/* 80349D24 00346904  40 82 00 3C */	bne lbl_80349D60
/* 80349D28 00346908  38 65 00 04 */	addi r3, r5, 4
/* 80349D2C 0034690C  80 05 00 04 */	lwz r0, 4(r5)
/* 80349D30 00346910  38 80 00 01 */	li r4, 1
/* 80349D34 00346914  28 00 00 00 */	cmplwi r0, 0
/* 80349D38 00346918  40 82 00 28 */	bne lbl_80349D60
/* 80349D3C 0034691C  84 03 00 04 */	lwzu r0, 4(r3)
/* 80349D40 00346920  38 80 00 02 */	li r4, 2
/* 80349D44 00346924  28 00 00 00 */	cmplwi r0, 0
/* 80349D48 00346928  40 82 00 18 */	bne lbl_80349D60
/* 80349D4C 0034692C  80 03 00 04 */	lwz r0, 4(r3)
/* 80349D50 00346930  38 80 00 03 */	li r4, 3
/* 80349D54 00346934  28 00 00 00 */	cmplwi r0, 0
/* 80349D58 00346938  40 82 00 08 */	bne lbl_80349D60
/* 80349D5C 0034693C  38 80 00 04 */	li r4, 4
lbl_80349D60:
/* 80349D60 00346940  2C 04 00 04 */	cmpwi r4, 4
/* 80349D64 00346944  40 82 00 0C */	bne lbl_80349D70
/* 80349D68 00346948  38 60 00 00 */	li r3, 0
/* 80349D6C 0034694C  4B FF FD ED */	bl SIEnablePollingInterrupt
lbl_80349D70:
/* 80349D70 00346950  7F E3 FB 78 */	mr r3, r31
/* 80349D74 00346954  4B FF D6 19 */	bl OSRestoreInterrupts
/* 80349D78 00346958  38 60 00 01 */	li r3, 1
/* 80349D7C 0034695C  48 00 00 1C */	b lbl_80349D98
lbl_80349D80:
/* 80349D80 00346960  38 63 00 04 */	addi r3, r3, 4
/* 80349D84 00346964  38 84 00 01 */	addi r4, r4, 1
/* 80349D88 00346968  42 00 FF 6C */	bdnz lbl_80349CF4
/* 80349D8C 0034696C  7F E3 FB 78 */	mr r3, r31
/* 80349D90 00346970  4B FF D5 FD */	bl OSRestoreInterrupts
/* 80349D94 00346974  38 60 00 00 */	li r3, 0
lbl_80349D98:
/* 80349D98 00346978  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80349D9C 0034697C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80349DA0 00346980  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 80349DA4 00346984  7C 08 03 A6 */	mtlr r0
/* 80349DA8 00346988  38 21 00 18 */	addi r1, r1, 0x18
/* 80349DAC 0034698C  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t SIGetType();

#pragma push
asm unk_t SIInit()
{ // clang-format off
    nofralloc
/* 80349DB0 00346990  7C 08 02 A6 */	mflr r0
/* 80349DB4 00346994  3C 60 80 4A */	lis r3, Packet@ha
/* 80349DB8 00346998  90 01 00 04 */	stw r0, 4(r1)
/* 80349DBC 0034699C  38 C3 7D B8 */	addi r6, r3, Packet@l
/* 80349DC0 003469A0  38 A0 FF FF */	li r5, -1
/* 80349DC4 003469A4  94 21 FF F8 */	stwu r1, -8(r1)
/* 80349DC8 003469A8  3C 80 CC 00 */	lis r4, 0xCC006430@ha
/* 80349DCC 003469AC  38 00 00 00 */	li r0, 0
/* 80349DD0 003469B0  90 A6 00 60 */	stw r5, 0x60(r6)
/* 80349DD4 003469B4  90 A6 00 40 */	stw r5, 0x40(r6)
/* 80349DD8 003469B8  90 A6 00 20 */	stw r5, 0x20(r6)
/* 80349DDC 003469BC  90 A6 00 00 */	stw r5, 0(r6)
/* 80349DE0 003469C0  90 04 64 30 */	stw r0, 0xCC006430@l(r4)
lbl_80349DE4:
/* 80349DE4 003469C4  38 A4 64 00 */	addi r5, r4, 0x6400
/* 80349DE8 003469C8  84 05 00 34 */	lwzu r0, 0x34(r5)
/* 80349DEC 003469CC  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80349DF0 003469D0  40 82 FF F4 */	bne lbl_80349DE4
/* 80349DF4 003469D4  3C 00 80 00 */	lis r0, 0x8000
/* 80349DF8 003469D8  3C 60 80 35 */	lis r3, SIInterruptHandler@ha
/* 80349DFC 003469DC  90 05 00 00 */	stw r0, 0(r5)
/* 80349E00 003469E0  38 83 98 14 */	addi r4, r3, SIInterruptHandler@l
/* 80349E04 003469E4  38 60 00 14 */	li r3, 0x14
/* 80349E08 003469E8  4B FF D5 A9 */	bl __OSSetInterruptHandler
/* 80349E0C 003469EC  38 60 08 00 */	li r3, 0x800
/* 80349E10 003469F0  4B FF D9 A5 */	bl __OSUnmaskInterrupts
/* 80349E14 003469F4  38 60 00 00 */	li r3, 0
/* 80349E18 003469F8  48 00 0A 69 */	bl SIGetType
/* 80349E1C 003469FC  38 60 00 01 */	li r3, 1
/* 80349E20 00346A00  48 00 0A 61 */	bl SIGetType
/* 80349E24 00346A04  38 60 00 02 */	li r3, 2
/* 80349E28 00346A08  48 00 0A 59 */	bl SIGetType
/* 80349E2C 00346A0C  38 60 00 03 */	li r3, 3
/* 80349E30 00346A10  48 00 0A 51 */	bl SIGetType
/* 80349E34 00346A14  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80349E38 00346A18  38 21 00 08 */	addi r1, r1, 8
/* 80349E3C 00346A1C  7C 08 03 A6 */	mtlr r0
/* 80349E40 00346A20  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop
