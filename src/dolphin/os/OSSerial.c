#include <dolphin/types.h>

extern unk_t lbl_80402358;

#pragma push
asm unk_t SIBusy()
{ // clang-format off
    nofralloc
/* 803494BC 0034609C  3C 60 80 40 */	lis r3, lbl_80402358@ha
/* 803494C0 003460A0  80 03 23 58 */	lwz r0, lbl_80402358@l(r3)
/* 803494C4 003460A4  2C 00 FF FF */	cmpwi r0, -1
/* 803494C8 003460A8  41 82 00 0C */	beq lbl_803494D4
/* 803494CC 003460AC  38 60 00 01 */	li r3, 1
/* 803494D0 003460B0  4E 80 00 20 */	blr 
lbl_803494D4:
/* 803494D4 003460B4  38 60 00 00 */	li r3, 0
/* 803494D8 003460B8  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t Packet;

#pragma push
asm unk_t SIIsChanBusy()
{ // clang-format off
    nofralloc
/* 803494DC 003460BC  3C 80 80 4A */	lis r4, Packet@ha
/* 803494E0 003460C0  54 65 28 34 */	slwi r5, r3, 5
/* 803494E4 003460C4  38 04 7D B8 */	addi r0, r4, Packet@l
/* 803494E8 003460C8  7C 80 2A 14 */	add r4, r0, r5
/* 803494EC 003460CC  80 04 00 00 */	lwz r0, 0(r4)
/* 803494F0 003460D0  38 A0 00 01 */	li r5, 1
/* 803494F4 003460D4  2C 00 FF FF */	cmpwi r0, -1
/* 803494F8 003460D8  40 82 00 18 */	bne lbl_80349510
/* 803494FC 003460DC  3C 80 80 40 */	lis r4, lbl_80402358@ha
/* 80349500 003460E0  80 04 23 58 */	lwz r0, lbl_80402358@l(r4)
/* 80349504 003460E4  7C 00 18 00 */	cmpw r0, r3
/* 80349508 003460E8  41 82 00 08 */	beq lbl_80349510
/* 8034950C 003460EC  38 A0 00 00 */	li r5, 0
lbl_80349510:
/* 80349510 003460F0  7C A3 2B 78 */	mr r3, r5
/* 80349514 003460F4  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern unk_t lbl_804A7EF8;
extern unk_t lbl_804A7ED8;
extern unk_t __OSGetSystemTime();

#pragma push
asm unk_t CompleteTransfer()
{ // clang-format off
    nofralloc
/* 80349518 003460F8  7C 08 02 A6 */	mflr r0
/* 8034951C 003460FC  3C 60 CC 00 */	lis r3, 0xCC006400@ha
/* 80349520 00346100  90 01 00 04 */	stw r0, 4(r1)
/* 80349524 00346104  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80349528 00346108  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8034952C 0034610C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80349530 00346110  3B C3 64 00 */	addi r30, r3, 0xCC006400@l
/* 80349534 00346114  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80349538 00346118  3B BE 00 34 */	addi r29, r30, 0x34
/* 8034953C 0034611C  93 81 00 10 */	stw r28, 0x10(r1)
/* 80349540 00346120  80 03 64 34 */	lwz r0, 0x6434(r3)
/* 80349544 00346124  83 83 64 38 */	lwz r28, 0x6438(r3)
/* 80349548 00346128  3C 60 80 40 */	lis r3, lbl_80402358@ha
/* 8034954C 0034612C  64 00 80 00 */	oris r0, r0, 0x8000
/* 80349550 00346130  54 00 00 3C */	rlwinm r0, r0, 0, 0, 0x1e
/* 80349554 00346134  90 1E 00 34 */	stw r0, 0x34(r30)
/* 80349558 00346138  3B E3 23 58 */	addi r31, r3, lbl_80402358@l
/* 8034955C 0034613C  80 1F 00 00 */	lwz r0, 0(r31)
/* 80349560 00346140  2C 00 FF FF */	cmpwi r0, -1
/* 80349564 00346144  41 82 02 74 */	beq lbl_803497D8
/* 80349568 00346148  48 00 2E A9 */	bl __OSGetSystemTime
/* 8034956C 0034614C  80 DF 00 00 */	lwz r6, 0(r31)
/* 80349570 00346150  3C A0 80 4A */	lis r5, lbl_804A7EF8@ha
/* 80349574 00346154  38 05 7E F8 */	addi r0, r5, lbl_804A7EF8@l
/* 80349578 00346158  54 C5 18 38 */	slwi r5, r6, 3
/* 8034957C 0034615C  7C A0 2A 14 */	add r5, r0, r5
/* 80349580 00346160  90 85 00 04 */	stw r4, 4(r5)
/* 80349584 00346164  38 DF 00 08 */	addi r6, r31, 8
/* 80349588 00346168  38 80 00 00 */	li r4, 0
/* 8034958C 0034616C  90 65 00 00 */	stw r3, 0(r5)
/* 80349590 00346170  80 1F 00 08 */	lwz r0, 8(r31)
/* 80349594 00346174  80 BF 00 0C */	lwz r5, 0xc(r31)
/* 80349598 00346178  54 07 F0 BE */	srwi r7, r0, 2
/* 8034959C 0034617C  28 07 00 00 */	cmplwi r7, 0
/* 803495A0 00346180  40 81 00 A0 */	ble lbl_80349640
/* 803495A4 00346184  28 07 00 08 */	cmplwi r7, 8
/* 803495A8 00346188  38 67 FF F8 */	addi r3, r7, -8
/* 803495AC 0034618C  40 81 02 34 */	ble lbl_803497E0
/* 803495B0 00346190  38 03 00 07 */	addi r0, r3, 7
/* 803495B4 00346194  54 00 E8 FE */	srwi r0, r0, 3
/* 803495B8 00346198  28 03 00 00 */	cmplwi r3, 0
/* 803495BC 0034619C  7C 09 03 A6 */	mtctr r0
/* 803495C0 003461A0  40 81 02 20 */	ble lbl_803497E0
lbl_803495C4:
/* 803495C4 003461A4  80 1E 00 80 */	lwz r0, 0x80(r30)
/* 803495C8 003461A8  38 84 00 08 */	addi r4, r4, 8
/* 803495CC 003461AC  90 05 00 00 */	stw r0, 0(r5)
/* 803495D0 003461B0  80 1E 00 84 */	lwz r0, 0x84(r30)
/* 803495D4 003461B4  90 05 00 04 */	stw r0, 4(r5)
/* 803495D8 003461B8  80 1E 00 88 */	lwz r0, 0x88(r30)
/* 803495DC 003461BC  90 05 00 08 */	stw r0, 8(r5)
/* 803495E0 003461C0  80 1E 00 8C */	lwz r0, 0x8c(r30)
/* 803495E4 003461C4  90 05 00 0C */	stw r0, 0xc(r5)
/* 803495E8 003461C8  80 1E 00 90 */	lwz r0, 0x90(r30)
/* 803495EC 003461CC  90 05 00 10 */	stw r0, 0x10(r5)
/* 803495F0 003461D0  80 1E 00 94 */	lwz r0, 0x94(r30)
/* 803495F4 003461D4  90 05 00 14 */	stw r0, 0x14(r5)
/* 803495F8 003461D8  80 1E 00 98 */	lwz r0, 0x98(r30)
/* 803495FC 003461DC  90 05 00 18 */	stw r0, 0x18(r5)
/* 80349600 003461E0  80 1E 00 9C */	lwz r0, 0x9c(r30)
/* 80349604 003461E4  3B DE 00 20 */	addi r30, r30, 0x20
/* 80349608 003461E8  90 05 00 1C */	stw r0, 0x1c(r5)
/* 8034960C 003461EC  38 A5 00 20 */	addi r5, r5, 0x20
/* 80349610 003461F0  42 00 FF B4 */	bdnz lbl_803495C4
/* 80349614 003461F4  48 00 01 CC */	b lbl_803497E0
lbl_80349618:
/* 80349618 003461F8  7C 04 38 50 */	subf r0, r4, r7
/* 8034961C 003461FC  7C 04 38 40 */	cmplw r4, r7
/* 80349620 00346200  7C 09 03 A6 */	mtctr r0
/* 80349624 00346204  40 80 00 1C */	bge lbl_80349640
lbl_80349628:
/* 80349628 00346208  80 03 00 80 */	lwz r0, 0x80(r3)
/* 8034962C 0034620C  38 63 00 04 */	addi r3, r3, 4
/* 80349630 00346210  38 84 00 01 */	addi r4, r4, 1
/* 80349634 00346214  90 05 00 00 */	stw r0, 0(r5)
/* 80349638 00346218  38 A5 00 04 */	addi r5, r5, 4
/* 8034963C 0034621C  42 00 FF EC */	bdnz lbl_80349628
lbl_80349640:
/* 80349640 00346220  80 06 00 00 */	lwz r0, 0(r6)
/* 80349644 00346224  54 03 07 BF */	clrlwi. r3, r0, 0x1e
/* 80349648 00346228  41 82 01 10 */	beq lbl_80349758
/* 8034964C 0034622C  3C C0 CC 00 */	lis r6, 0xCC006400@ha
/* 80349650 00346230  38 C6 64 00 */	addi r6, r6, 0xCC006400@l
/* 80349654 00346234  54 80 10 3A */	slwi r0, r4, 2
/* 80349658 00346238  7C 86 02 14 */	add r4, r6, r0
/* 8034965C 0034623C  80 C4 00 80 */	lwz r6, 0x80(r4)
/* 80349660 00346240  38 80 00 00 */	li r4, 0
/* 80349664 00346244  40 81 00 F4 */	ble lbl_80349758
/* 80349668 00346248  28 03 00 08 */	cmplwi r3, 8
/* 8034966C 0034624C  38 E3 FF F8 */	addi r7, r3, -8
/* 80349670 00346250  40 81 00 BC */	ble lbl_8034972C
/* 80349674 00346254  38 07 00 07 */	addi r0, r7, 7
/* 80349678 00346258  54 00 E8 FE */	srwi r0, r0, 3
/* 8034967C 0034625C  28 07 00 00 */	cmplwi r7, 0
/* 80349680 00346260  7C 09 03 A6 */	mtctr r0
/* 80349684 00346264  40 81 00 A8 */	ble lbl_8034972C
lbl_80349688:
/* 80349688 00346268  20 04 00 03 */	subfic r0, r4, 3
/* 8034968C 0034626C  54 07 18 38 */	slwi r7, r0, 3
/* 80349690 00346270  38 04 00 01 */	addi r0, r4, 1
/* 80349694 00346274  7C C7 3C 30 */	srw r7, r6, r7
/* 80349698 00346278  20 00 00 03 */	subfic r0, r0, 3
/* 8034969C 0034627C  98 E5 00 00 */	stb r7, 0(r5)
/* 803496A0 00346280  54 00 18 38 */	slwi r0, r0, 3
/* 803496A4 00346284  38 E4 00 02 */	addi r7, r4, 2
/* 803496A8 00346288  7C C0 04 30 */	srw r0, r6, r0
/* 803496AC 0034628C  20 E7 00 03 */	subfic r7, r7, 3
/* 803496B0 00346290  98 05 00 01 */	stb r0, 1(r5)
/* 803496B4 00346294  54 E7 18 38 */	slwi r7, r7, 3
/* 803496B8 00346298  7C CC 3C 30 */	srw r12, r6, r7
/* 803496BC 0034629C  7C E4 00 D0 */	neg r7, r4
/* 803496C0 003462A0  99 85 00 02 */	stb r12, 2(r5)
/* 803496C4 003462A4  54 E8 18 38 */	slwi r8, r7, 3
/* 803496C8 003462A8  38 E4 00 04 */	addi r7, r4, 4
/* 803496CC 003462AC  7C CB 44 30 */	srw r11, r6, r8
/* 803496D0 003462B0  20 E7 00 03 */	subfic r7, r7, 3
/* 803496D4 003462B4  99 65 00 03 */	stb r11, 3(r5)
/* 803496D8 003462B8  54 E8 18 38 */	slwi r8, r7, 3
/* 803496DC 003462BC  38 E4 00 05 */	addi r7, r4, 5
/* 803496E0 003462C0  7C CA 44 30 */	srw r10, r6, r8
/* 803496E4 003462C4  20 E7 00 03 */	subfic r7, r7, 3
/* 803496E8 003462C8  99 45 00 04 */	stb r10, 4(r5)
/* 803496EC 003462CC  54 E8 18 38 */	slwi r8, r7, 3
/* 803496F0 003462D0  7C C9 44 30 */	srw r9, r6, r8
/* 803496F4 003462D4  38 E4 00 06 */	addi r7, r4, 6
/* 803496F8 003462D8  99 25 00 05 */	stb r9, 5(r5)
/* 803496FC 003462DC  21 07 00 03 */	subfic r8, r7, 3
/* 80349700 003462E0  38 E4 00 07 */	addi r7, r4, 7
/* 80349704 003462E4  55 08 18 38 */	slwi r8, r8, 3
/* 80349708 003462E8  7C C8 44 30 */	srw r8, r6, r8
/* 8034970C 003462EC  20 E7 00 03 */	subfic r7, r7, 3
/* 80349710 003462F0  99 05 00 06 */	stb r8, 6(r5)
/* 80349714 003462F4  54 E7 18 38 */	slwi r7, r7, 3
/* 80349718 003462F8  7C C7 3C 30 */	srw r7, r6, r7
/* 8034971C 003462FC  98 E5 00 07 */	stb r7, 7(r5)
/* 80349720 00346300  38 A5 00 08 */	addi r5, r5, 8
/* 80349724 00346304  38 84 00 08 */	addi r4, r4, 8
/* 80349728 00346308  42 00 FF 60 */	bdnz lbl_80349688
lbl_8034972C:
/* 8034972C 0034630C  7C 04 18 50 */	subf r0, r4, r3
/* 80349730 00346310  7C 04 18 40 */	cmplw r4, r3
/* 80349734 00346314  7C 09 03 A6 */	mtctr r0
/* 80349738 00346318  40 80 00 20 */	bge lbl_80349758
lbl_8034973C:
/* 8034973C 0034631C  20 04 00 03 */	subfic r0, r4, 3
/* 80349740 00346320  54 00 18 38 */	slwi r0, r0, 3
/* 80349744 00346324  7C C0 04 30 */	srw r0, r6, r0
/* 80349748 00346328  98 05 00 00 */	stb r0, 0(r5)
/* 8034974C 0034632C  38 A5 00 01 */	addi r5, r5, 1
/* 80349750 00346330  38 84 00 01 */	addi r4, r4, 1
/* 80349754 00346334  42 00 FF E8 */	bdnz lbl_8034973C
lbl_80349758:
/* 80349758 00346338  80 1D 00 00 */	lwz r0, 0(r29)
/* 8034975C 0034633C  54 00 00 85 */	rlwinm. r0, r0, 0, 2, 2
/* 80349760 00346340  41 82 00 4C */	beq lbl_803497AC
/* 80349764 00346344  80 7F 00 00 */	lwz r3, 0(r31)
/* 80349768 00346348  20 03 00 03 */	subfic r0, r3, 3
/* 8034976C 0034634C  54 00 18 38 */	slwi r0, r0, 3
/* 80349770 00346350  7F 9C 04 30 */	srw r28, r28, r0
/* 80349774 00346354  57 9C 07 3E */	clrlwi r28, r28, 0x1c
/* 80349778 00346358  57 80 07 39 */	rlwinm. r0, r28, 0, 0x1c, 0x1c
/* 8034977C 0034635C  41 82 00 20 */	beq lbl_8034979C
/* 80349780 00346360  54 60 10 3A */	slwi r0, r3, 2
/* 80349784 00346364  7C 7F 02 14 */	add r3, r31, r0
/* 80349788 00346368  84 03 00 14 */	lwzu r0, 0x14(r3)
/* 8034978C 0034636C  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80349790 00346370  40 82 00 0C */	bne lbl_8034979C
/* 80349794 00346374  38 00 00 08 */	li r0, 8
/* 80349798 00346378  90 03 00 00 */	stw r0, 0(r3)
lbl_8034979C:
/* 8034979C 0034637C  28 1C 00 00 */	cmplwi r28, 0
/* 803497A0 00346380  40 82 00 30 */	bne lbl_803497D0
/* 803497A4 00346384  3B 80 00 04 */	li r28, 4
/* 803497A8 00346388  48 00 00 28 */	b lbl_803497D0
lbl_803497AC:
/* 803497AC 0034638C  48 00 2C 65 */	bl __OSGetSystemTime
/* 803497B0 00346390  80 DF 00 00 */	lwz r6, 0(r31)
/* 803497B4 00346394  3C A0 80 4A */	lis r5, lbl_804A7ED8@ha
/* 803497B8 00346398  38 05 7E D8 */	addi r0, r5, lbl_804A7ED8@l
/* 803497BC 0034639C  54 C5 18 38 */	slwi r5, r6, 3
/* 803497C0 003463A0  7C A0 2A 14 */	add r5, r0, r5
/* 803497C4 003463A4  90 85 00 04 */	stw r4, 4(r5)
/* 803497C8 003463A8  3B 80 00 00 */	li r28, 0
/* 803497CC 003463AC  90 65 00 00 */	stw r3, 0(r5)
lbl_803497D0:
/* 803497D0 003463B0  38 00 FF FF */	li r0, -1
/* 803497D4 003463B4  90 1F 00 00 */	stw r0, 0(r31)
lbl_803497D8:
/* 803497D8 003463B8  7F 83 E3 78 */	mr r3, r28
/* 803497DC 003463BC  48 00 00 18 */	b lbl_803497F4
lbl_803497E0:
/* 803497E0 003463C0  3C 60 CC 00 */	lis r3, 0xCC006400@ha
/* 803497E4 003463C4  54 80 10 3A */	slwi r0, r4, 2
/* 803497E8 003463C8  38 63 64 00 */	addi r3, r3, 0xCC006400@l
/* 803497EC 003463CC  7C 63 02 14 */	add r3, r3, r0
/* 803497F0 003463D0  4B FF FE 28 */	b lbl_80349618
lbl_803497F4:
/* 803497F4 003463D4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803497F8 003463D8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803497FC 003463DC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80349800 003463E0  7C 08 03 A6 */	mtlr r0
/* 80349804 003463E4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80349808 003463E8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8034980C 003463EC  38 21 00 20 */	addi r1, r1, 0x20
/* 80349810 003463F0  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop
