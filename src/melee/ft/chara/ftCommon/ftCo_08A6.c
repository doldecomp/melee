#include <platform.h>
#include "forward.h"

#include "ftCo_08A6.h"

#include "ft/ft_0877.h"
#include "ft/ft_08A4.h"
#include "ft/ftdata.h"
#include "ft/ftwaitanim.h"
#include "it/it_26B1.h"

#include <placeholder.h>

#if defined(MWERKS_GEKKO)
/* static */ float const lbl_804D8448 = 0;
/* static */ float const lbl_804D844C = 1;
/* static */ double const ftCo_804D8450 = 4503599627370496;
static char lbl_804D3AE0[] = "0";
#endif

#ifdef MWERKS_GEKKO
#pragma push
asm UNK_RET ftCo_8008A698(UNK_PARAMS)
{ // clang-format off
    nofralloc
/* 8008A698 00087278  7C 08 02 A6 */	mflr r0
/* 8008A69C 0008727C  90 01 00 04 */	stw r0, 4(r1)
/* 8008A6A0 00087280  94 21 FF F8 */	stwu r1, -8(r1)
/* 8008A6A4 00087284  80 63 19 74 */	lwz r3, 0x1974(r3)
/* 8008A6A8 00087288  28 03 00 00 */	cmplwi r3, 0
/* 8008A6AC 0008728C  41 82 00 18 */	beq lbl_8008A6C4
/* 8008A6B0 00087290  48 1E 0C 71 */	bl it_8026B320
/* 8008A6B4 00087294  2C 03 00 02 */	cmpwi r3, 2
/* 8008A6B8 00087298  41 82 00 0C */	beq lbl_8008A6C4
/* 8008A6BC 0008729C  38 60 00 01 */	li r3, 1
/* 8008A6C0 000872A0  48 00 00 08 */	b lbl_8008A6C8
lbl_8008A6C4:
/* 8008A6C4 000872A4  38 60 00 00 */	li r3, 0
lbl_8008A6C8:
/* 8008A6C8 000872A8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8008A6CC 000872AC  38 21 00 08 */	addi r1, r1, 8
/* 8008A6D0 000872B0  7C 08 03 A6 */	mtlr r0
/* 8008A6D4 000872B4  4E 80 00 20 */	blr
} // clang-format on
#pragma pop
#endif

#ifdef MWERKS_GEKKO
#pragma push
asm UNK_RET ftCo_8008A6D8(UNK_PARAMS)
{ // clang-format off
    nofralloc
/* 8008A6D8 000872B8  7C 08 02 A6 */	mflr r0
/* 8008A6DC 000872BC  90 01 00 04 */	stw r0, 4(r1)
/* 8008A6E0 000872C0  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 8008A6E4 000872C4  BF 61 00 24 */	stmw r27, 0x24(r1)
/* 8008A6E8 000872C8  3B 84 00 00 */	addi r28, r4, 0
/* 8008A6EC 000872CC  2C 1C FF FF */	cmpwi r28, -1
/* 8008A6F0 000872D0  3B 63 00 00 */	addi r27, r3, 0
/* 8008A6F4 000872D4  83 E3 00 2C */	lwz r31, 0x2c(r3)
/* 8008A6F8 000872D8  41 82 00 9C */	beq lbl_8008A794
/* 8008A6FC 000872DC  1C FC 00 18 */	mulli r7, r28, 0x18
/* 8008A700 000872E0  81 1F 00 24 */	lwz r8, 0x24(r31)
/* 8008A704 000872E4  80 DF 00 28 */	lwz r6, 0x28(r31)
/* 8008A708 000872E8  57 80 08 3C */	slwi r0, r28, 1
/* 8008A70C 000872EC  38 7F 00 00 */	addi r3, r31, 0
/* 8008A710 000872F0  38 9F 00 00 */	addi r4, r31, 0
/* 8008A714 000872F4  38 BC 00 00 */	addi r5, r28, 0
/* 8008A718 000872F8  7F C8 3A 14 */	add r30, r8, r7
/* 8008A71C 000872FC  7F A6 02 14 */	add r29, r6, r0
/* 8008A720 00087300  4B FF B5 B9 */	bl ftData_80085CD8
/* 8008A724 00087304  93 9F 00 14 */	stw r28, 0x14(r31)
/* 8008A728 00087308  38 7F 00 00 */	addi r3, r31, 0
/* 8008A72C 0008730C  38 9D 00 00 */	addi r4, r29, 0
/* 8008A730 00087310  48 01 40 85 */	bl ftCo_8009E7B4
/* 8008A734 00087314  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 8008A738 00087318  38 00 00 00 */	li r0, 0
/* 8008A73C 0008731C  90 7F 03 EC */	stw r3, 0x3ec(r31)
/* 8008A740 00087320  90 1F 03 F0 */	stw r0, 0x3f0(r31)
/* 8008A744 00087324  80 1F 05 90 */	lwz r0, 0x590(r31)
/* 8008A748 00087328  28 00 00 00 */	cmplwi r0, 0
/* 8008A74C 0008732C  41 82 00 38 */	beq lbl_8008A784
/* 8008A750 00087330  80 9E 00 10 */	lwz r4, 0x10(r30)
/* 8008A754 00087334  3C 00 43 30 */	lis r0, 0x4330
/* 8008A758 00087338  38 7B 00 00 */	addi r3, r27, 0
/* 8008A75C 0008733C  90 9F 05 94 */	stw r4, 0x594(r31)
/* 8008A760 00087340  88 9D 00 00 */	lbz r4, 0(r29)
/* 8008A764 00087344  C8 62 8A 70 */	lfd f3, ftCo_804D8450
/* 8008A768 00087348  90 81 00 1C */	stw r4, 0x1c(r1)
/* 8008A76C 0008734C  C0 22 8A 68 */	lfs f1, lbl_804D8448
/* 8008A770 00087350  90 01 00 18 */	stw r0, 0x18(r1)
/* 8008A774 00087354  C0 42 8A 6C */	lfs f2, lbl_804D844C
/* 8008A778 00087358  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8008A77C 0008735C  EC 60 18 28 */	fsubs f3, f0, f3
/* 8008A780 00087360  4B FE 44 69 */	bl ftAnim_8006EBE8
lbl_8008A784:
/* 8008A784 00087364  C0 02 8A 68 */	lfs f0, lbl_804D8448
/* 8008A788 00087368  7F 63 DB 78 */	mr r3, r27
/* 8008A78C 0008736C  D0 1F 03 E4 */	stfs f0, 0x3e4(r31)
/* 8008A790 00087370  4B FE 44 15 */	bl ftAnim_8006EBA4
lbl_8008A794:
/* 8008A794 00087374  BB 61 00 24 */	lmw r27, 0x24(r1)
/* 8008A798 00087378  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 8008A79C 0008737C  38 21 00 38 */	addi r1, r1, 0x38
/* 8008A7A0 00087380  7C 08 03 A6 */	mtlr r0
/* 8008A7A4 00087384  4E 80 00 20 */	blr
} // clang-format on
#pragma pop
#endif

#ifdef MWERKS_GEKKO
#pragma push
asm void ftCo_8008A7A8(ftCo_GObj*, int)
{ // clang-format off
    nofralloc
/* 8008A7A8 00087388  7C 08 02 A6 */	mflr r0
/* 8008A7AC 0008738C  90 01 00 04 */	stw r0, 4(r1)
/* 8008A7B0 00087390  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 8008A7B4 00087394  BF 21 00 2C */	stmw r25, 0x2c(r1)
/* 8008A7B8 00087398  7C 7D 1B 78 */	mr r29, r3
/* 8008A7BC 0008739C  7C 9E 23 78 */	mr r30, r4
/* 8008A7C0 000873A0  83 E3 00 2C */	lwz r31, 0x2c(r3)
/* 8008A7C4 000873A4  4B FE 4A 75 */	bl ftAnim_IsFramesRemaining
/* 8008A7C8 000873A8  2C 03 00 00 */	cmpwi r3, 0
/* 8008A7CC 000873AC  40 82 02 18 */	bne lbl_8008A9E4
/* 8008A7D0 000873B0  28 1E 00 00 */	cmplwi r30, 0
/* 8008A7D4 000873B4  41 82 00 24 */	beq lbl_8008A7F8
/* 8008A7D8 000873B8  80 1F 19 74 */	lwz r0, 0x1974(r31)
/* 8008A7DC 000873BC  28 00 00 00 */	cmplwi r0, 0
/* 8008A7E0 000873C0  41 82 00 C4 */	beq lbl_8008A8A4
/* 8008A7E4 000873C4  80 1F 00 04 */	lwz r0, 4(r31)
/* 8008A7E8 000873C8  2C 00 00 10 */	cmpwi r0, 0x10
/* 8008A7EC 000873CC  41 82 00 B8 */	beq lbl_8008A8A4
/* 8008A7F0 000873D0  2C 00 00 01 */	cmpwi r0, 1
/* 8008A7F4 000873D4  41 82 00 B0 */	beq lbl_8008A8A4
lbl_8008A7F8:
/* 8008A7F8 000873D8  83 FF 00 14 */	lwz r31, 0x14(r31)
/* 8008A7FC 000873DC  83 DD 00 2C */	lwz r30, 0x2c(r29)
/* 8008A800 000873E0  2C 1F FF FF */	cmpwi r31, -1
/* 8008A804 000873E4  41 82 01 E0 */	beq lbl_8008A9E4
/* 8008A808 000873E8  1C FF 00 18 */	mulli r7, r31, 0x18
/* 8008A80C 000873EC  81 1E 00 24 */	lwz r8, 0x24(r30)
/* 8008A810 000873F0  80 DE 00 28 */	lwz r6, 0x28(r30)
/* 8008A814 000873F4  57 E0 08 3C */	slwi r0, r31, 1
/* 8008A818 000873F8  38 7E 00 00 */	addi r3, r30, 0
/* 8008A81C 000873FC  38 9E 00 00 */	addi r4, r30, 0
/* 8008A820 00087400  38 BF 00 00 */	addi r5, r31, 0
/* 8008A824 00087404  7F 88 3A 14 */	add r28, r8, r7
/* 8008A828 00087408  7F 66 02 14 */	add r27, r6, r0
/* 8008A82C 0008740C  4B FF B4 AD */	bl ftData_80085CD8
/* 8008A830 00087410  93 FE 00 14 */	stw r31, 0x14(r30)
/* 8008A834 00087414  38 7E 00 00 */	addi r3, r30, 0
/* 8008A838 00087418  38 9B 00 00 */	addi r4, r27, 0
/* 8008A83C 0008741C  48 01 3F 79 */	bl ftCo_8009E7B4
/* 8008A840 00087420  80 7C 00 0C */	lwz r3, 0xc(r28)
/* 8008A844 00087424  38 00 00 00 */	li r0, 0
/* 8008A848 00087428  90 7E 03 EC */	stw r3, 0x3ec(r30)
/* 8008A84C 0008742C  90 1E 03 F0 */	stw r0, 0x3f0(r30)
/* 8008A850 00087430  80 1E 05 90 */	lwz r0, 0x590(r30)
/* 8008A854 00087434  28 00 00 00 */	cmplwi r0, 0
/* 8008A858 00087438  41 82 00 38 */	beq lbl_8008A890
/* 8008A85C 0008743C  80 9C 00 10 */	lwz r4, 0x10(r28)
/* 8008A860 00087440  3C 00 43 30 */	lis r0, 0x4330
/* 8008A864 00087444  38 7D 00 00 */	addi r3, r29, 0
/* 8008A868 00087448  90 9E 05 94 */	stw r4, 0x594(r30)
/* 8008A86C 0008744C  88 9B 00 00 */	lbz r4, 0(r27)
/* 8008A870 00087450  C8 62 8A 70 */	lfd f3, ftCo_804D8450
/* 8008A874 00087454  90 81 00 24 */	stw r4, 0x24(r1)
/* 8008A878 00087458  C0 22 8A 68 */	lfs f1, lbl_804D8448
/* 8008A87C 0008745C  90 01 00 20 */	stw r0, 0x20(r1)
/* 8008A880 00087460  C0 42 8A 6C */	lfs f2, lbl_804D844C
/* 8008A884 00087464  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8008A888 00087468  EC 60 18 28 */	fsubs f3, f0, f3
/* 8008A88C 0008746C  4B FE 43 5D */	bl ftAnim_8006EBE8
lbl_8008A890:
/* 8008A890 00087470  C0 02 8A 68 */	lfs f0, lbl_804D8448
/* 8008A894 00087474  7F A3 EB 78 */	mr r3, r29
/* 8008A898 00087478  D0 1E 03 E4 */	stfs f0, 0x3e4(r30)
/* 8008A89C 0008747C  4B FE 43 09 */	bl ftAnim_8006EBA4
/* 8008A8A0 00087480  48 00 01 44 */	b lbl_8008A9E4
lbl_8008A8A4:
/* 8008A8A4 00087484  3C 80 80 3C */	lis r4, ftWaitAnim_803C54A8@ha
/* 8008A8A8 00087488  3C 60 80 3C */	lis r3, ftWaitAnim_803C54C4@ha
/* 8008A8AC 0008748C  3B 64 54 A8 */	addi r27, r4, ftWaitAnim_803C54A8@l
/* 8008A8B0 00087490  3B 83 54 C4 */	addi r28, r3, ftWaitAnim_803C54C4@l
lbl_8008A8B4:
/* 8008A8B4 00087494  3B 3E 00 00 */	addi r25, r30, 0
/* 8008A8B8 00087498  38 60 00 64 */	li r3, 0x64
/* 8008A8BC 0008749C  48 2F 5C C5 */	bl HSD_Randi
/* 8008A8C0 000874A0  38 83 00 01 */	addi r4, r3, 1
/* 8008A8C4 000874A4  38 60 00 00 */	li r3, 0
/* 8008A8C8 000874A8  48 00 00 20 */	b lbl_8008A8E8
lbl_8008A8CC:
/* 8008A8CC 000874AC  80 19 00 04 */	lwz r0, 4(r25)
/* 8008A8D0 000874B0  7C 63 02 14 */	add r3, r3, r0
/* 8008A8D4 000874B4  7C 04 18 00 */	cmpw r4, r3
/* 8008A8D8 000874B8  41 81 00 0C */	bgt lbl_8008A8E4
/* 8008A8DC 000874BC  83 59 00 00 */	lwz r26, 0(r25)
/* 8008A8E0 000874C0  48 00 00 30 */	b lbl_8008A910
lbl_8008A8E4:
/* 8008A8E4 000874C4  3B 39 00 08 */	addi r25, r25, 8
lbl_8008A8E8:
/* 8008A8E8 000874C8  80 19 00 00 */	lwz r0, 0(r25)
/* 8008A8EC 000874CC  2C 00 FF FF */	cmpwi r0, -1
/* 8008A8F0 000874D0  40 82 FF DC */	bne lbl_8008A8CC
/* 8008A8F4 000874D4  38 7B 00 00 */	addi r3, r27, 0
/* 8008A8F8 000874D8  4C C6 31 82 */	crclr 6
/* 8008A8FC 000874DC  48 2B AD AD */	bl OSReport
/* 8008A900 000874E0  38 7C 00 00 */	addi r3, r28, 0
/* 8008A904 000874E4  38 80 00 56 */	li r4, 0x56
/* 8008A908 000874E8  38 AD 84 40 */	addi r5, r13, lbl_804D3AE0
/* 8008A90C 000874EC  48 2F D9 15 */	bl __assert
lbl_8008A910:
/* 8008A910 000874F0  80 7F 00 14 */	lwz r3, 0x14(r31)
/* 8008A914 000874F4  38 BA 00 00 */	addi r5, r26, 0
/* 8008A918 000874F8  2C 03 00 02 */	cmpwi r3, 2
/* 8008A91C 000874FC  41 82 00 0C */	beq lbl_8008A928
/* 8008A920 00087500  2C 03 00 1F */	cmpwi r3, 0x1f
/* 8008A924 00087504  40 82 00 0C */	bne lbl_8008A930
lbl_8008A928:
/* 8008A928 00087508  38 00 00 01 */	li r0, 1
/* 8008A92C 0008750C  48 00 00 08 */	b lbl_8008A934
lbl_8008A930:
/* 8008A930 00087510  38 00 00 00 */	li r0, 0
lbl_8008A934:
/* 8008A934 00087514  2C 00 00 00 */	cmpwi r0, 0
/* 8008A938 00087518  40 82 00 0C */	bne lbl_8008A944
/* 8008A93C 0008751C  7C 03 28 00 */	cmpw r3, r5
/* 8008A940 00087520  41 82 FF 74 */	beq lbl_8008A8B4
lbl_8008A944:
/* 8008A944 00087524  2C 05 FF FF */	cmpwi r5, -1
/* 8008A948 00087528  83 9D 00 2C */	lwz r28, 0x2c(r29)
/* 8008A94C 0008752C  41 82 00 98 */	beq lbl_8008A9E4
/* 8008A950 00087530  1C E5 00 18 */	mulli r7, r5, 0x18
/* 8008A954 00087534  81 1C 00 24 */	lwz r8, 0x24(r28)
/* 8008A958 00087538  80 DC 00 28 */	lwz r6, 0x28(r28)
/* 8008A95C 0008753C  54 A0 08 3C */	slwi r0, r5, 1
/* 8008A960 00087540  38 7C 00 00 */	addi r3, r28, 0
/* 8008A964 00087544  38 9C 00 00 */	addi r4, r28, 0
/* 8008A968 00087548  7F 68 3A 14 */	add r27, r8, r7
/* 8008A96C 0008754C  7F 26 02 14 */	add r25, r6, r0
/* 8008A970 00087550  4B FF B3 69 */	bl ftData_80085CD8
/* 8008A974 00087554  93 5C 00 14 */	stw r26, 0x14(r28)
/* 8008A978 00087558  38 7C 00 00 */	addi r3, r28, 0
/* 8008A97C 0008755C  38 99 00 00 */	addi r4, r25, 0
/* 8008A980 00087560  48 01 3E 35 */	bl ftCo_8009E7B4
/* 8008A984 00087564  80 7B 00 0C */	lwz r3, 0xc(r27)
/* 8008A988 00087568  38 00 00 00 */	li r0, 0
/* 8008A98C 0008756C  90 7C 03 EC */	stw r3, 0x3ec(r28)
/* 8008A990 00087570  90 1C 03 F0 */	stw r0, 0x3f0(r28)
/* 8008A994 00087574  80 1C 05 90 */	lwz r0, 0x590(r28)
/* 8008A998 00087578  28 00 00 00 */	cmplwi r0, 0
/* 8008A99C 0008757C  41 82 00 38 */	beq lbl_8008A9D4
/* 8008A9A0 00087580  80 9B 00 10 */	lwz r4, 0x10(r27)
/* 8008A9A4 00087584  3C 00 43 30 */	lis r0, 0x4330
/* 8008A9A8 00087588  38 7D 00 00 */	addi r3, r29, 0
/* 8008A9AC 0008758C  90 9C 05 94 */	stw r4, 0x594(r28)
/* 8008A9B0 00087590  88 99 00 00 */	lbz r4, 0(r25)
/* 8008A9B4 00087594  C8 62 8A 70 */	lfd f3, ftCo_804D8450
/* 8008A9B8 00087598  90 81 00 24 */	stw r4, 0x24(r1)
/* 8008A9BC 0008759C  C0 22 8A 68 */	lfs f1, lbl_804D8448
/* 8008A9C0 000875A0  90 01 00 20 */	stw r0, 0x20(r1)
/* 8008A9C4 000875A4  C0 42 8A 6C */	lfs f2, lbl_804D844C
/* 8008A9C8 000875A8  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8008A9CC 000875AC  EC 60 18 28 */	fsubs f3, f0, f3
/* 8008A9D0 000875B0  4B FE 42 19 */	bl ftAnim_8006EBE8
lbl_8008A9D4:
/* 8008A9D4 000875B4  C0 02 8A 68 */	lfs f0, lbl_804D8448
/* 8008A9D8 000875B8  7F A3 EB 78 */	mr r3, r29
/* 8008A9DC 000875BC  D0 1C 03 E4 */	stfs f0, 0x3e4(r28)
/* 8008A9E0 000875C0  4B FE 41 C5 */	bl ftAnim_8006EBA4
lbl_8008A9E4:
/* 8008A9E4 000875C4  BB 21 00 2C */	lmw r25, 0x2c(r1)
/* 8008A9E8 000875C8  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 8008A9EC 000875CC  38 21 00 48 */	addi r1, r1, 0x48
/* 8008A9F0 000875D0  7C 08 03 A6 */	mtlr r0
/* 8008A9F4 000875D4  4E 80 00 20 */	blr
} // clang-format on
#pragma pop
#endif
