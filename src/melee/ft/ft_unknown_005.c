#include <melee/ft/fighter.h>
#include <sysdolphin/baselib/debug.h>

extern char* lbl_804D3AA8;
extern char* lbl_804D3AB0;

#pragma push
asm unk_t func_8008521C()
{ // clang-format off
    nofralloc
/* 8008521C 00081DFC  7C 08 02 A6 */	mflr r0
/* 80085220 00081E00  90 01 00 04 */	stw r0, 4(r1)
/* 80085224 00081E04  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80085228 00081E08  93 E1 00 24 */	stw r31, 0x24(r1)
/* 8008522C 00081E0C  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80085230 00081E10  83 E3 00 28 */	lwz r31, 0x28(r3)
/* 80085234 00081E14  83 C3 00 2C */	lwz r30, 0x2c(r3)
/* 80085238 00081E18  28 1F 00 00 */	cmplwi r31, 0
/* 8008523C 00081E1C  40 82 00 14 */	bne lbl_80085250
/* 80085240 00081E20  38 6D 84 08 */	addi r3, r13, lbl_804D3AA8
/* 80085244 00081E24  38 80 03 D3 */	li r4, 0x3d3
/* 80085248 00081E28  38 AD 84 10 */	addi r5, r13, lbl_804D3AB0
/* 8008524C 00081E2C  48 30 2F D5 */	bl __assert
lbl_80085250:
/* 80085250 00081E30  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 80085254 00081E34  80 1F 00 3C */	lwz r0, 0x3c(r31)
/* 80085258 00081E38  90 61 00 14 */	stw r3, 0x14(r1)
/* 8008525C 00081E3C  90 01 00 18 */	stw r0, 0x18(r1)
/* 80085260 00081E40  80 1F 00 40 */	lwz r0, 0x40(r31)
/* 80085264 00081E44  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80085268 00081E48  C0 21 00 14 */	lfs f1, 0x14(r1)
/* 8008526C 00081E4C  C0 1E 00 B0 */	lfs f0, 0xb0(r30)
/* 80085270 00081E50  EC 01 00 28 */	fsubs f0, f1, f0
/* 80085274 00081E54  D0 1E 00 80 */	stfs f0, 0x80(r30)
/* 80085278 00081E58  C0 21 00 18 */	lfs f1, 0x18(r1)
/* 8008527C 00081E5C  C0 1E 00 B4 */	lfs f0, 0xb4(r30)
/* 80085280 00081E60  EC 01 00 28 */	fsubs f0, f1, f0
/* 80085284 00081E64  D0 1E 00 84 */	stfs f0, 0x84(r30)
/* 80085288 00081E68  C0 21 00 1C */	lfs f1, 0x1c(r1)
/* 8008528C 00081E6C  C0 1E 00 B8 */	lfs f0, 0xb8(r30)
/* 80085290 00081E70  EC 01 00 28 */	fsubs f0, f1, f0
/* 80085294 00081E74  D0 1E 00 88 */	stfs f0, 0x88(r30)
/* 80085298 00081E78  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 8008529C 00081E7C  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 800852A0 00081E80  83 C1 00 20 */	lwz r30, 0x20(r1)
/* 800852A4 00081E84  38 21 00 28 */	addi r1, r1, 0x28
/* 800852A8 00081E88  7C 08 03 A6 */	mtlr r0
/* 800852AC 00081E8C  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop

extern ftData* gFtDataList[33];
extern unk_t CostumeListsForeachCharacter[];

#pragma push
asm void func_800852B0(HSD_GObj* fighter_gobj)
{ // clang-format off
    nofralloc
/* 800852B0 00081E90  3C 80 80 46 */	lis r4, gFtDataList@ha
/* 800852B4 00081E94  3C 60 80 3C */	lis r3, CostumeListsForeachCharacter@ha
/* 800852B8 00081E98  39 03 0E C0 */	addi r8, r3, CostumeListsForeachCharacter@l
/* 800852BC 00081E9C  38 00 00 0B */	li r0, 0xb
/* 800852C0 00081EA0  38 A4 98 B8 */	addi r5, r4, gFtDataList@l
/* 800852C4 00081EA4  7C 09 03 A6 */	mtctr r0
/* 800852C8 00081EA8  38 E5 00 00 */	addi r7, r5, 0
/* 800852CC 00081EAC  39 28 01 08 */	addi r9, r8, 0x108
/* 800852D0 00081EB0  39 48 17 34 */	addi r10, r8, 0x1734
/* 800852D4 00081EB4  39 60 00 00 */	li r11, 0
lbl_800852D8:
/* 800852D8 00081EB8  38 60 00 00 */	li r3, 0
/* 800852DC 00081EBC  90 67 00 00 */	stw r3, 0(r7)
/* 800852E0 00081EC0  38 C3 00 00 */	addi r6, r3, 0
/* 800852E4 00081EC4  39 80 00 00 */	li r12, 0
/* 800852E8 00081EC8  48 00 00 20 */	b lbl_80085308
lbl_800852EC:
/* 800852EC 00081ECC  80 88 00 00 */	lwz r4, 0(r8)
/* 800852F0 00081ED0  38 06 00 08 */	addi r0, r6, 8
/* 800852F4 00081ED4  39 8C 00 01 */	addi r12, r12, 1
/* 800852F8 00081ED8  7C 64 31 2E */	stwx r3, r4, r6
/* 800852FC 00081EDC  38 C6 00 18 */	addi r6, r6, 0x18
/* 80085300 00081EE0  80 88 00 00 */	lwz r4, 0(r8)
/* 80085304 00081EE4  7C 64 01 2E */	stwx r3, r4, r0
lbl_80085308:
/* 80085308 00081EE8  88 08 00 04 */	lbz r0, 4(r8)
/* 8008530C 00081EEC  7C 0C 00 00 */	cmpw r12, r0
/* 80085310 00081EF0  41 80 FF DC */	blt lbl_800852EC
/* 80085314 00081EF4  38 60 00 00 */	li r3, 0
/* 80085318 00081EF8  90 69 00 00 */	stw r3, 0(r9)
/* 8008531C 00081EFC  7C 66 1B 78 */	mr r6, r3
/* 80085320 00081F00  39 80 00 00 */	li r12, 0
/* 80085324 00081F04  90 6A 00 00 */	stw r3, 0(r10)
/* 80085328 00081F08  39 08 00 08 */	addi r8, r8, 8
/* 8008532C 00081F0C  39 29 00 08 */	addi r9, r9, 8
/* 80085330 00081F10  94 67 00 04 */	stwu r3, 4(r7)
/* 80085334 00081F14  39 4A 00 08 */	addi r10, r10, 8
/* 80085338 00081F18  48 00 00 20 */	b lbl_80085358
lbl_8008533C:
/* 8008533C 00081F1C  80 88 00 00 */	lwz r4, 0(r8)
/* 80085340 00081F20  38 06 00 08 */	addi r0, r6, 8
/* 80085344 00081F24  39 8C 00 01 */	addi r12, r12, 1
/* 80085348 00081F28  7C 64 31 2E */	stwx r3, r4, r6
/* 8008534C 00081F2C  38 C6 00 18 */	addi r6, r6, 0x18
/* 80085350 00081F30  80 88 00 00 */	lwz r4, 0(r8)
/* 80085354 00081F34  7C 64 01 2E */	stwx r3, r4, r0
lbl_80085358:
/* 80085358 00081F38  88 08 00 04 */	lbz r0, 4(r8)
/* 8008535C 00081F3C  7C 0C 00 00 */	cmpw r12, r0
/* 80085360 00081F40  41 80 FF DC */	blt lbl_8008533C
/* 80085364 00081F44  38 60 00 00 */	li r3, 0
/* 80085368 00081F48  90 69 00 00 */	stw r3, 0(r9)
/* 8008536C 00081F4C  7C 66 1B 78 */	mr r6, r3
/* 80085370 00081F50  39 80 00 00 */	li r12, 0
/* 80085374 00081F54  90 6A 00 00 */	stw r3, 0(r10)
/* 80085378 00081F58  39 08 00 08 */	addi r8, r8, 8
/* 8008537C 00081F5C  39 29 00 08 */	addi r9, r9, 8
/* 80085380 00081F60  94 67 00 04 */	stwu r3, 4(r7)
/* 80085384 00081F64  39 4A 00 08 */	addi r10, r10, 8
/* 80085388 00081F68  39 6B 00 01 */	addi r11, r11, 1
/* 8008538C 00081F6C  48 00 00 20 */	b lbl_800853AC
lbl_80085390:
/* 80085390 00081F70  80 88 00 00 */	lwz r4, 0(r8)
/* 80085394 00081F74  38 06 00 08 */	addi r0, r6, 8
/* 80085398 00081F78  39 8C 00 01 */	addi r12, r12, 1
/* 8008539C 00081F7C  7C 64 31 2E */	stwx r3, r4, r6
/* 800853A0 00081F80  38 C6 00 18 */	addi r6, r6, 0x18
/* 800853A4 00081F84  80 88 00 00 */	lwz r4, 0(r8)
/* 800853A8 00081F88  7C 64 01 2E */	stwx r3, r4, r0
lbl_800853AC:
/* 800853AC 00081F8C  88 08 00 04 */	lbz r0, 4(r8)
/* 800853B0 00081F90  7C 0C 00 00 */	cmpw r12, r0
/* 800853B4 00081F94  41 80 FF DC */	blt lbl_80085390
/* 800853B8 00081F98  38 60 00 00 */	li r3, 0
/* 800853BC 00081F9C  90 69 00 00 */	stw r3, 0(r9)
/* 800853C0 00081FA0  39 29 00 08 */	addi r9, r9, 8
/* 800853C4 00081FA4  39 6B 00 01 */	addi r11, r11, 1
/* 800853C8 00081FA8  90 6A 00 00 */	stw r3, 0(r10)
/* 800853CC 00081FAC  39 4A 00 08 */	addi r10, r10, 8
/* 800853D0 00081FB0  38 E7 00 04 */	addi r7, r7, 4
/* 800853D4 00081FB4  39 08 00 08 */	addi r8, r8, 8
/* 800853D8 00081FB8  42 00 FF 00 */	bdnz lbl_800852D8
/* 800853DC 00081FBC  90 65 00 84 */	stw r3, 0x84(r5)
/* 800853E0 00081FC0  38 85 00 84 */	addi r4, r5, 0x84
/* 800853E4 00081FC4  38 E5 00 94 */	addi r7, r5, 0x94
/* 800853E8 00081FC8  8C 04 00 06 */	lbzu r0, 6(r4)
/* 800853EC 00081FCC  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 800853F0 00081FD0  39 05 00 9C */	addi r8, r5, 0x9c
/* 800853F4 00081FD4  98 04 00 00 */	stb r0, 0(r4)
/* 800853F8 00081FD8  39 25 00 A4 */	addi r9, r5, 0xa4
/* 800853FC 00081FDC  39 65 00 AC */	addi r11, r5, 0xac
/* 80085400 00081FE0  88 04 00 00 */	lbz r0, 0(r4)
/* 80085404 00081FE4  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 80085408 00081FE8  98 04 00 00 */	stb r0, 0(r4)
/* 8008540C 00081FEC  90 65 00 8C */	stw r3, 0x8c(r5)
/* 80085410 00081FF0  88 05 00 92 */	lbz r0, 0x92(r5)
/* 80085414 00081FF4  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 80085418 00081FF8  98 05 00 92 */	stb r0, 0x92(r5)
/* 8008541C 00081FFC  88 05 00 92 */	lbz r0, 0x92(r5)
/* 80085420 00082000  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 80085424 00082004  98 05 00 92 */	stb r0, 0x92(r5)
/* 80085428 00082008  90 65 00 94 */	stw r3, 0x94(r5)
/* 8008542C 0008200C  88 05 00 9A */	lbz r0, 0x9a(r5)
/* 80085430 00082010  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 80085434 00082014  98 07 00 06 */	stb r0, 6(r7)
/* 80085438 00082018  88 07 00 06 */	lbz r0, 6(r7)
/* 8008543C 0008201C  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 80085440 00082020  98 07 00 06 */	stb r0, 6(r7)
/* 80085444 00082024  90 68 00 00 */	stw r3, 0(r8)
/* 80085448 00082028  88 08 00 06 */	lbz r0, 6(r8)
/* 8008544C 0008202C  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 80085450 00082030  98 08 00 06 */	stb r0, 6(r8)
/* 80085454 00082034  88 08 00 06 */	lbz r0, 6(r8)
/* 80085458 00082038  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 8008545C 0008203C  98 08 00 06 */	stb r0, 6(r8)
/* 80085460 00082040  90 69 00 00 */	stw r3, 0(r9)
/* 80085464 00082044  88 09 00 06 */	lbz r0, 6(r9)
/* 80085468 00082048  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 8008546C 0008204C  98 09 00 06 */	stb r0, 6(r9)
/* 80085470 00082050  88 09 00 06 */	lbz r0, 6(r9)
/* 80085474 00082054  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 80085478 00082058  98 09 00 06 */	stb r0, 6(r9)
/* 8008547C 0008205C  90 6B 00 00 */	stw r3, 0(r11)
/* 80085480 00082060  88 0B 00 06 */	lbz r0, 6(r11)
/* 80085484 00082064  50 60 3E 30 */	rlwimi r0, r3, 7, 0x18, 0x18
/* 80085488 00082068  98 0B 00 06 */	stb r0, 6(r11)
/* 8008548C 0008206C  88 0B 00 06 */	lbz r0, 6(r11)
/* 80085490 00082070  50 60 2E 74 */	rlwimi r0, r3, 5, 0x19, 0x1a
/* 80085494 00082074  98 0B 00 06 */	stb r0, 6(r11)
/* 80085498 00082078  4E 80 00 20 */	blr 
} // clang-format on
#pragma pop
